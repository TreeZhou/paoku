var __reflect=this&&this.__reflect||function(e,t,i){e.__class__=t,i?i.push(t):i=[t],e.__types__=e.__types__?i.concat(e.__types__):i},__extends=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},CBaseClass=function(e){function t(){var t=e.call(this)||this;return t.touchEnabled=!0,t.percentWidth=640,t.percentHeight=1036,t}return __extends(t,e),t.prototype.childrenCreated=function(){},t}(eui.Component);__reflect(CBaseClass.prototype,"CBaseClass");var SingleBaseClass=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.getInstance=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=this;if(!i._instance){var n=e.length;0==n?i._instance=new i:1==n?i._instance=new i(e[0]):2==n?i._instance=new i(e[0],e[1]):3==n?i._instance=new i(e[0],e[1],e[2]):4==n?i._instance=new i(e[0],e[1],e[2],e[3]):5==n&&(i._instance=new i(e[0],e[1],e[2],e[3],e[4]))}return i._instance},t}(egret.DisplayObjectContainer);__reflect(SingleBaseClass.prototype,"SingleBaseClass");var EventManager=function(e){function t(){return e.call(this)||this}return __extends(t,e),t}(egret.DisplayObjectContainer);EventManager.GOTO_INDEX="GOTO_INDEX",EventManager.GOTO_RANK="GOTO_RANK",EventManager.GOTO_GAME="GOTO_GAME",EventManager.GOTO_AA="GOTO_AA",EventManager.GOTO_CHANGPIN="GOTO_CHANGPIN",EventManager.GOTO_ZHULIRANK="GOTO_ZHULIRANK",EventManager.GOTO_INFOS="GOTO_INFOS",EventManager.GOTO_OJOIN="GOTO_OJOIN",__reflect(EventManager.prototype,"EventManager");var Bgmusic=function(e){function t(){var t=e.call(this)||this;return t.positionX=egret.MainContext.instance.stage.stageWidth,t.positionY=0,t.createGameScene(),t}return __extends(t,e),t.prototype.createGameScene=function(){this.musicS=this.createBitmapByName("musicStop_png"),this.musicS.touchEnabled=!0,this.musicS.anchorOffsetX=this.musicS.width/2,this.musicS.anchorOffsetY=this.musicS.height/2,this.musicS.x=this.positionX-this.musicS.width,this.musicS.y=this.positionY+this.musicS.height,this.musicS.visible=!1,this.addChild(this.musicS),this.musicP=this.createBitmapByName("musicPlay_png"),this.musicP.touchEnabled=!0,this.musicP.anchorOffsetX=this.musicP.width/2,this.musicP.anchorOffsetY=this.musicS.height/2,this.musicP.x=this.positionX-this.musicP.width,this.musicP.y=this.positionY+this.musicP.height,this.musicP.visible=!1,this.addChild(this.musicP),this.musicS.visible=!0,this.manageState(window.audioStatus),this.addEventListener(egret.Event.ENTER_FRAME,this.enter,this)},t.prototype.enter=function(){"playing"==window.audioStatus&&(this.manageState(window.audioStatus),this.removeEventListener(egret.Event.ENTER_FRAME,this.enter,this))},t.prototype.manageState=function(e){this.musicS.visible=!1,"playing"==e?(this.musicP.visible=!0,this.musicP.rotation=0,egret.Tween.get(this.musicP,{loop:!0}).to({rotation:360},4e3)):this.musicS.visible=!0,this.musicS.touchEnabled=!0,this.musicP.touchEnabled=!0,this.musicP.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickMusicBtn,this),this.musicS.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickMusicBtn,this)},t.prototype.onClickMusicBtn=function(e){if("playing"==window.audioStatus){window.audioStatus="pause";var t=document.getElementById("bgmusic");t.pause(),this.musicS.visible=!0,this.setChildIndex(this.musicS,999),this.musicP.visible=!1,egret.Tween.removeTweens(this.musicP),this.musicP.rotation=0}else{window.audioStatus="playing";var t=document.getElementById("bgmusic");t.play(),this.musicS.visible=!1,this.musicP.visible=!0,this.setChildIndex(this.musicP,999),this.musicP.rotation=0,egret.Tween.get(this.musicP,{loop:!0}).to({rotation:360},4e3)}},t.getInstance=function(){return this.instance||(this.instance=new t),this.instance},t.prototype.startPlay=function(){var e=document.getElementById("bgmusic");e.play(),this.musicS.visible=!1,this.musicP.visible=!0,this.setChildIndex(this.musicP,999),this.musicP.rotation=0,egret.Tween.get(this.musicP,{loop:!0}).to({rotation:360},4e3)},t.prototype.stopPlay=function(){var e=document.getElementById("bgmusic");e.pause(),this.musicS.visible=!0,this.setChildIndex(this.musicS,999),this.musicP.visible=!1,egret.Tween.removeTweens(this.musicP),this.musicP.rotation=0},t.prototype.createBitmapByName=function(e){var t=new egret.Bitmap,i=RES.getRes(e);return t.texture=i,t},t}(egret.Sprite);__reflect(Bgmusic.prototype,"Bgmusic");var changpin=function(e){function t(){var t=e.call(this)||this;return t.skinName="changpinSkin",t}return __extends(t,e),t.prototype.childrenCreated=function(){this.createGameScene()},t.prototype.createGameScene=function(){Mode.isgame=!0,this.matchSlider(),2==Mode.cpnum&&(this.group.scrollV=623),3==Mode.cpnum&&(this.group.scrollV=1256),this.slider.value=this.img1.height-this.scroller.height-this.group.scrollV,this.btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchtap,this)},t.prototype.touchtap=function(){PopUpManager.getInstance().removePopUp(this,1),PopUpManager.getInstance().addPopUp(new Gameover,!0,750,1334,1)},t.prototype.matchSlider=function(){var e=this;this.slider.minimum=0;this.slider.maximum=this.img1.height-this.scroller.height,this.slider.value=this.img1.height-this.scroller.height,this.slider.addEventListener(eui.UIEvent.CHANGE,function(t){e.group.scrollV=e.img1.height-e.scroller.height-t.target.value},this),this.scroller.addEventListener(eui.UIEvent.CHANGE,function(t){e.slider.value=e.img1.height-e.scroller.height-e.group.scrollV},this)},t}(CBaseClass);__reflect(changpin.prototype,"changpin");var DecodeStr=function(){function e(){}return e.decode=function(e){var t,i,n,o,r,a,s,h="",c=0;for(e=this._utf8_encode(e);c<e.length;)t=e.charCodeAt(c++),i=e.charCodeAt(c++),n=e.charCodeAt(c++),o=t>>2,r=(3&t)<<4|i>>4,a=(15&i)<<2|n>>6,s=63&n,isNaN(i)?a=s=64:isNaN(n)&&(s=64),h=h+this._keyStr.charAt(o)+this._keyStr.charAt(r)+this._keyStr.charAt(a)+this._keyStr.charAt(s);return h},e._utf8_encode=function(e){for(var t="",i=0,n=0,o=0,r=0;i<e.length;)n=e.charCodeAt(i),128>n?(t+=String.fromCharCode(n),i++):n>191&&224>n?(o=e.charCodeAt(i+1),t+=String.fromCharCode((31&n)<<6|63&o),i+=2):(o=e.charCodeAt(i+1),r=e.charCodeAt(i+2),t+=String.fromCharCode((15&n)<<12|(63&o)<<6|63&r),i+=3);return t},e.setencode=function(t,i,n){void 0===t&&(t=null),void 0===i&&(i=null),void 0===n&&(n=(new Date).getTime());var o=e.decode(Math.floor(n/1e3)+""),r=e.decode(t),a=new md5,s=o+"."+r+"."+a.hex_md5(o+r+i);return s},e}();DecodeStr._keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",__reflect(DecodeStr.prototype,"DecodeStr");var dianzan=function(e){function t(){var t=e.call(this)||this;return t.skinName="dianzanSkin",t}return __extends(t,e),t.prototype.childrenCreated=function(){this.createGameScene()},t.prototype.createGameScene=function(){this.close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchtap,this)},t.prototype.touchtap=function(){PopUpManager.getInstance().removePopUp(this,1)},t}(CBaseClass);__reflect(dianzan.prototype,"dianzan");var djs=function(e){function t(){var t=e.call(this)||this;return t.skinName="djsSkin",t}return __extends(t,e),t.prototype.childrenCreated=function(){this.createGameScene()},t.prototype.createGameScene=function(){document.getElementById("djs").play(),this.dao()},t.prototype.dao=function(){var e=this;this.san.alpha=1,this.quan.alpha=1,egret.Tween.get(this.san).to({alpha:0},900).call(function(){e.er.alpha=1,egret.Tween.get(e.er).to({alpha:0},900).call(function(){e.yi.alpha=1,egret.Tween.get(e.yi).to({alpha:0},900).call(function(){e.sgo.alpha=1,egret.Tween.get(e.sgo).to({alpha:0},300).call(function(){e.quan.alpha=0,PopUpManager.getInstance().removePopUp(e,1)})})})})},t}(CBaseClass);__reflect(djs.prototype,"djs");var erwei=function(e){function t(){var t=e.call(this)||this;return t.skinName="erweiSkin",t}return __extends(t,e),t.prototype.childrenCreated=function(){this.createGameScene()},t.prototype.createGameScene=function(){document.getElementById("ewm").style.display="block",Tool.displayLikeObject(document.getElementById("ewm"),this.ewms),document.getElementById("ewm").style.top="46%",this.close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchtap,this)},t.prototype.touchtap=function(){document.getElementById("ewm").style.display="none",PopUpManager.getInstance().removePopUp(this,1)},t}(CBaseClass);__reflect(erwei.prototype,"erwei");var Game=function(e){function t(){var t=e.call(this)||this;return t._touchStatus=!1,t._distance=new egret.Point,t.jishu=0,t.arrd=["g2_item1_png","g2_item2_png","g2_item3_png","g2_item2_png"],t.arr=["g2_rub1_png","g2_rub2_png","g2_rub3_png","g2_rub4_png"],t.arr1=[[300,-250],[350,330],[390,780]],t.sssj=60,t.lucheng=0,t.miaolu=10,t.alphass=.1,t.panduanwudi=!1,t.skinName="GameSkin",t}return __extends(t,e),t.prototype.childrenCreated=function(){this.createGameScene()},t.prototype.createGameScene=function(){var e=this;Mode.isgame=!1,this.mc=Tool.createMovieClip("lu","lu"),this.mc.x=0,this.mc.y=0,this.mc.frameRate=4,this.addChild(this.mc),this.bigbox=Tool.createSprite(147,489),this.bigbox.x=300,this.bigbox.y=730,this.bigbox.touchEnabled=!0,this.bigbox.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.mouseDown,this),this.bigbox.addEventListener(egret.TouchEvent.TOUCH_END,this.mouseUp,this),this.addChild(this.bigbox),this.pengbox=Tool.createSprite(100,40),this.pengbox.x=10,this.pengbox.y=320,this.pengbox.touchEnabled=!0,this.bigbox.addChild(this.pengbox),this.wudi=Tool.createBitmapByName("g2_wudibuff_png"),this.wudi.x=-48,this.wudi.y=-5,this.wudi.visible=!1,this.bigbox.addChild(this.wudi),this.mc1=Tool.createMovieClip("ren","ren"),this.mc1.x=10,this.mc1.y=30,this.mc1.scaleX=this.mc1.scaleY=.8,this.mc1.frameRate=6,this.bigbox.addChild(this.mc1),this.mc1.visible=!1,this.mc2=Tool.createMovieClip("ren1","ren1"),this.mc2.x=10,this.mc2.y=30,this.mc2.scaleX=this.mc2.scaleY=.8,this.mc2.frameRate=6,this.mc2.alpha=0,this.bigbox.addChild(this.mc2),1==Mode.diyici?(PopUpManager.getInstance().addPopUp(new zhiyin,!1,750,1334,0),egret.setTimeout(function(){e.mc1.visible=!0},this,4200),egret.setTimeout(function(){e.func()},this,7200)):(PopUpManager.getInstance().addPopUp(new djs,!1,750,1334,0),this.mc1.visible=!0,egret.setTimeout(function(){e.func()},this,3e3))},t.prototype.mouseDown=function(e){this._touchStatus=!0,this._distance.x=e.stageX-this.bigbox.x,this.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.mouseMove,this)},t.prototype.mouseMove=function(e){this._touchStatus&&(this.bigbox.x=e.stageX-this._distance.x),this.bigbox.x>=520&&(this.bigbox.x=520),this.bigbox.x<80&&(this.bigbox.x=80)},t.prototype.mouseUp=function(e){this._touchStatus=!1,this.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.mouseMove,this)},t.prototype.touchtap=function(){},t.prototype.func=function(){var e=this;egret.Tween.get(this.danmu,{loop:!0}).wait(1e4).call(function(){e.danmu.visible=!0,e.danmu.alpha=1,e.danmu.y=238,"g2_text4_png"==e.danmu.source?e.danmu.source="g2_text3_png":e.danmu.source="g2_text4_png",egret.Tween.get(e.danmu).wait(2e3).to({y:e.danmu.y-50,alpha:0},1500).call(function(){e.danmu.visible=!1},e)},this),this.djtime=egret.setInterval(function(){if(e.lucheng+=e.miaolu,e.cj.text=e.lucheng+"",e.sssj-=1,e.jishu%3||(e.mc2.alpha+=e.alphass,e.mc2.alpha>=1&&(e.mc2.alpha=1)),e.sssj<=0||1==e.mc2.alpha){if(Mode.score=e.lucheng,e.panduanwudi=!0,egret.clearInterval(e.djtime),egret.clearInterval(e.shengcheng),e.mc.stop(),e.mc1.stop(),e.mc2.stop(),e.sssj<=0)var t=Tool.createBitmapByName("g2_text1_png");else var t=Tool.createBitmapByName("g2_text2_png");t.x=132,t.y=500,e.addChild(t);var i="&data="+DecodeStr.setencode("game_nums="+Mode.score,Mode.apikey);MessageTool.GET("http://game.flyh5.cn/game/wx75967690c8ef0c50/mar_lkm/api.php?a=game_over",i,function(t){var i=JSON.parse(t.target.response.trim());return console.log(i),100!=i.error?void alert("拉取用户数据失败点击重新获取"):(egret.setTimeout(function(){PopUpManager.getInstance().addPopUp(new Gameover,!0,750,1334,1)},e,1500),void console.log("结束"))},e,!1)}e.stime.text=e.sssj+""},this,1e3),this.mc.play(-1),this.mc1.play(-1),this.mc2.play(-1),this.shengcheng=egret.setInterval(function(){if(e.jishu+=1,e.jishu%6){var t=RandomUtils.randomArray(e.arr1);e.sjza(RandomUtils.randomArray(e.arr),t[0],t[1])}else{var t=RandomUtils.randomArray(e.arr1);e.sjza(RandomUtils.randomArray(e.arrd),t[0],t[1])}},this,400)},t.prototype.sjza=function(e,t,i){var n=this,o=Tool.createBitmapByName(e);"g2_item1_png"==e&&(o.name="dj1"),"g2_item2_png"==e&&(o.name="dj2"),"g2_item3_png"==e&&(o.name="dj3"),-1!==this.arr.indexOf(e)&&(o.name="za"),o.x=t,o.y=370,o.scaleX=o.scaleY=.5,this.addChildAt(o,9),o.addEventListener(egret.Event.ENTER_FRAME,this.pengzhuang,this),egret.Tween.get(o).to({x:i,y:1834,scaleX:1.5,scaleY:1.5},2e3).call(function(){o.removeEventListener(egret.Event.ENTER_FRAME,n.pengzhuang,n),egret.Tween.removeTweens(o),Tool.removeFromParent(o)})},t.prototype.pengzhuang=function(e){var t=this,i=CollisionUtils.hitTest(e.target,this.pengbox);if(1==i&&!this.panduanwudi){var n=Tool.createTextFiled(e.target.x+50,e.target.y-50,280,30,"",30,16777215,!1);this.addChild(n),n.alpha=0,egret.Tween.get(n).to({alpha:1,y:n.y-10},500,egret.Ease.quadInOut).to({alpha:0,y:n.y-20},500,egret.Ease.quadInOut).call(function(){egret.Tween.removeTweens(n),Tool.removeFromParent(n)},this),"dj1"==e.target.name&&(document.getElementById("jia").play(),console.log("美白"),n.text="提亮雪肤",this.mc2.alpha-=.1,this.mc2.alpha<=0&&(this.mc2.alpha=0)),"dj3"==e.target.name&&(document.getElementById("jia").play(),this.wudi.visible=!0,this.panduanwudi=!0,this.alphass=0,egret.setTimeout(function(){t.alphass=.1,t.wudi.visible=!1,t.panduanwudi=!1},this,2e3),n.text="持久防护",console.log("2秒无敌")),"dj2"==e.target.name&&(document.getElementById("jia").play(),n.text=" 冰爽遮阳",console.log("路程增加200m"),this.lucheng+=200),"za"==e.target.name&&(document.getElementById("jian").play(),n.text="减速",console.log("减速"),this.mc.frameRate=2,this.mc1.frameRate=3,this.mc2.frameRate=3,this.miaolu=5,egret.setTimeout(function(){t.mc.frameRate=4,t.mc1.frameRate=6,t.mc2.frameRate=6,t.miaolu=10},this,2e3)),e.target.removeEventListener(egret.Event.ENTER_FRAME,this.pengzhuang,this),egret.Tween.removeTweens(e.target),Tool.removeFromParent(e.target)}},t}(CBaseClass);__reflect(Game.prototype,"Game");var Gameover=function(e){function t(){var t=e.call(this)||this;return t.skinName="GameoverSkin",t}return __extends(t,e),t.prototype.childrenCreated=function(){this.createGameScene()},t.prototype.createGameScene=function(){0==Mode.isgame&&(Tool.share("快来！帮我助跑！防晒礼品免费领，超值惊喜送闺蜜！！","超燃耶！土豪送礼+防护喷雾免费领！","http://game.flyh5.cn/resources/game/zzy_game/180301_LKM_run/main.html?shareid="+sessionStorage.openid,"http://game.flyh5.cn/resources/game/zzy_game/180301_LKM_run/icon.jpg"),document.getElementById("end1").play()),Mode.isindex=!1,this.chengji.text=Mode.score+"",this.shouzhi.touchEnabled=!1,egret.Tween.get(this.beiguang,{loop:!0}).to({rotation:360},2e3),egret.Tween.get(this.shouzhi,{loop:!0}).to({y:this.shouzhi.y-15},600).to({y:this.shouzhi.y},600),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchtap,this)},t.prototype.touchtap=function(e){switch(e.target){case this.btn1:Mode.cpnum=1,PopUpManager.getInstance().removePopUp(this,0),PopUpManager.getInstance().addPopUp(new changpin,!1,750,1334,0);break;case this.btn2:Mode.cpnum=2,PopUpManager.getInstance().removePopUp(this,0),PopUpManager.getInstance().addPopUp(new changpin,!1,750,1334,0);break;case this.btn3:Mode.cpnum=3,PopUpManager.getInstance().removePopUp(this,0),PopUpManager.getInstance().addPopUp(new changpin,!1,750,1334,0);break;case this.rankb:PopUpManager.getInstance().removePopUp(this,1),Main.eventManager.dispatchEventWith(EventManager.GOTO_RANK);break;case this.shareb:this.group.visible=!0,this.group.touchEnabled=!0;break;case this.dbtn:this.group.visible=!1;break;case this.dbtn1:this.group.visible=!1}},t}(CBaseClass);__reflect(Gameover.prototype,"Gameover");var DisplayObject=egret.DisplayObject,DisplayObjectContainer=egret.DisplayObjectContainer,GesturePanel=function(e){function t(){var t=e.call(this)||this;return t.gestureUtil=ur.UnistrokeRecognize.create(),t}return __extends(t,e),t.prototype.init=function(){this._layer=new egret.Sprite,this.addChild(this._layer),this.gestureUtil.addGesture("seven",[new ur.Point(256,294),new ur.Point(258,295),new ur.Point(260,295),new ur.Point(264,295),new ur.Point(270,295),new ur.Point(287,295),new ur.Point(320,297),new ur.Point(357,297),new ur.Point(390,299),new ur.Point(415,299),new ur.Point(428,299),new ur.Point(432,299),new ur.Point(436,299),new ur.Point(436,297),new ur.Point(434,299),new ur.Point(430,299),new ur.Point(415,309),new ur.Point(390,330),new ur.Point(355,362),new ur.Point(326,392),new ur.Point(305,418),new ur.Point(285,443),new ur.Point(272,463),new ur.Point(266,473),new ur.Point(264,477),new ur.Point(262,477),new ur.Point(262,477)])},t.prototype.addEvent=function(e){e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.mouseDown,this),e.addEventListener(egret.TouchEvent.TOUCH_END,this.mouseUp,this),e.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.mouseMove,this)},t.prototype.mouseDown=function(e){this._layer.graphics.clear();var t=new ur.Point(e.stageX,e.stageY);this._currentPoint=t,this._mousePoints=[],this._mousePoints.push(t)},t.prototype.mouseMove=function(e){var t=new ur.Point(e.stageX,e.stageY);this._mousePoints.push(t),this._layer.graphics.lineStyle(5,16777215),this._layer.graphics.moveTo(this._currentPoint.x,this._currentPoint.y),this._layer.graphics.lineTo(t.x,t.y),this._layer.graphics.endFill(),this._currentPoint=t},t.prototype.mouseUp=function(e){this._mousePoints.push(new ur.Point(e.stageX,e.stageY));var t=new Date;egret.log("===================");var i=this.gestureUtil.recognize(this._mousePoints,!1);egret.log("time ==>",(new Date).getTime()-t.getTime()),egret.log("画的名字:",i.name,"相似度:",i.score),this._layer.graphics.clear();var n=new ur.Point(e.stageX,e.stageY);this._currentPoint=n,this._mousePoints=[],this._mousePoints.push(n)},t}(DisplayObjectContainer);__reflect(GesturePanel.prototype,"GesturePanel");var Index=function(e){function t(){var t=e.call(this)||this;return t.skinName="IndexSkin",t}return __extends(t,e),t.prototype.childrenCreated=function(){this.createGameScene()},t.prototype.createGameScene=function(){egret.Tween.get(this.dh,{loop:!0}).to({scaleX:1,scaleY:1},500).to({scaleX:1.1,scaleY:1.1},500).to({scaleX:1,scaleY:1},500),Mode.isindex=!0,Tool.setPointLeft(this.btn1,200,400,800,this),Tool.setPointLeft(this.btn2,-200,400,800,this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchtap,this)},t.prototype.touchtap=function(e){switch(e.target){case this.btn1:Mode.diyici+=1,1==Mode.diyici?PopUpManager.getInstance().addPopUp(new Rule,!1,750,1334,1):Main.eventManager.dispatchEventWith(EventManager.GOTO_GAME);break;case this.btn2:Main.eventManager.dispatchEventWith(EventManager.GOTO_RANK);break;case this.rule:PopUpManager.getInstance().addPopUp(new Rule,!1,750,1334,1)}},t}(CBaseClass);__reflect(Index.prototype,"Index");var Infos=function(e){function t(){var t=e.call(this)||this;return t.skinName="InfosSkin",t}return __extends(t,e),t.prototype.childrenCreated=function(){this.createGameScene()},t.prototype.createGameScene=function(){0==Mode.is_info?this.close.source="g8_btn1_png":""!=Mode.namss?(this.yixie.visible=!1,this.erxie.visible=!1,this.sanxie.visible=!1,this.namelabel.text=Mode.namss,this.iphonelabel.text=Mode.iphss,this.addlabel.text=Mode.addzhi,this.close.source="g8_btn2_png"):(this.yixie.visible=!1,this.erxie.visible=!1,this.sanxie.visible=!1,this.namelabel.text=sessionStorage.user_name,this.iphonelabel.text=sessionStorage.user_phone,this.addlabel.text=sessionStorage.user_address,this.close.source="g8_btn2_png"),this.close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchtap,this)},t.prototype.touchtap=function(){if(0==Mode.is_info){if(""==this.yixie.text||""==this.erxie.text||""==this.sanxie.text)return void alert("信息未填写完整");if(!RegUtils.testCellPhone(this.erxie.text))return void alert("手机号输入错误");Mode.namss=this.yixie.text,Mode.iphss=this.erxie.text,Mode.addzhi=this.sanxie.text;var e="&data="+DecodeStr.setencode("user_name="+this.encode(this.yixie.text)+"&user_phone="+this.encode(this.erxie.text)+"&user_address="+this.encode(this.sanxie.text),Mode.apikey);MessageTool.GET("http://game.flyh5.cn/game/wx75967690c8ef0c50/mar_lkm/api.php?a=add_info",e,function(e){var t=JSON.parse(e.target.response.trim());return console.log(t),100!=t.error?void alert("拉取用户数据失败点击重新获取"):(Mode.is_info=1,void Main.eventManager.dispatchEventWith(EventManager.GOTO_RANK))},this,!1)}else Main.eventManager.dispatchEventWith(EventManager.GOTO_RANK)},t.prototype.encode=function(e){return encodeURIComponent(e)},t}(CBaseClass);__reflect(Infos.prototype,"Infos");var LoadingUI=function(e){function t(){var t=e.call(this)||this;return t.skinName="loadingSkin",t}return __extends(t,e),t.prototype.childrenCreated=function(){this.createGameScene()},t.prototype.createGameScene=function(){this.loadz.mask=this.maskload},t.prototype.setProgress=function(e,t){this.maskload&&(this.loadz.x=-411+Math.floor(e/t*this.loadz.width)),this.a=Math.floor(e/t*100),this.tex.text=this.a+"%"},t}(CBaseClass);__reflect(LoadingUI.prototype,"LoadingUI");var Main=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isThemeLoadEnd=!1,t.isResourceLoadEnd=!1,t}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),window.device=this.device,window.isX=this.isX,90==window.orientation||-90==window.orientation?this.device=!0:this.device=!1,window.addEventListener("orientationchange",function(){"landscape"==window.$(".egret-player").attr("data-orientation")&&(90==window.orientation||-90==window.orientation?1==window.isX?egret.MainContext.instance.stage.setContentSize(1334,550):egret.MainContext.instance.stage.setContentSize(1334,650):1==window.isX?egret.MainContext.instance.stage.setContentSize(1334,750):egret.MainContext.instance.stage.setContentSize(1334,750))}),DeviceUtils.IsMobile()?("landscape"==window.$(".egret-player").attr("data-orientation")?window.$(window).height()>=724&&0==this.device?(egret.MainContext.instance.stage.setContentSize(1334,750),window.isX=!0):window.$(window).width()>=812&&1==this.device?(egret.MainContext.instance.stage.setContentSize(1334,550),window.isX=!0):this.device?egret.MainContext.instance.stage.setContentSize(1334,650):egret.MainContext.instance.stage.setContentSize(1334,750):window.$(window).height()>=724||egret.MainContext.instance.stage.setContentSize(750,1234),egret.MainContext.instance.stage.scaleMode=egret.StageScaleMode.EXACT_FIT):egret.MainContext.instance.stage.scaleMode=egret.StageScaleMode.SHOW_ALL;var t=new RES.VersionController;if(t.getVirtualUrl=function(e){return e+"?v="+window.sourceVer},RES.registerVersionController(t),window.isAuth&&"game.flyh5.cn"==window.document.location.host){if(null==sessionStorage.openid||void 0==sessionStorage.openid||""==sessionStorage.openid)return void(null==LocationProperty.getPara("shareid")?document.location.href=window.ShareUrl:document.location.href=window.ShareUrl+"&shareid="+LocationProperty.getPara("shareid"));Mode.openid=sessionStorage.openid,Mode.imgUrl=sessionStorage.imgURL,Mode.userName=decodeURIComponent(sessionStorage.name)}else Mode.openid="obIBUwrgSWXrWWofPghkFyE0TQy8",Mode.imgUrl="http://wx.qlogo.cn/mmopen/bUyKsr9Z71LlbFJtOmziaeCiajQeFmr8RhicUicibFD17lz1TUW5iahClT9yYjRIIZ3Jm94kfLB97RNcdfcUy84hTrB4Tnc60CHj8X/0#",Mode.userName="cxw";var i=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",i),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},t.prototype.onConfigComplete=function(e){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this);var t=new eui.Theme("resource/default.thm.json",this.stage);t.addEventListener(eui.UIEvent.COMPLETE,this.onThemeLoadComplete,this)},t.prototype.onThemeLoadComplete=function(){RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup("loading"),this.isThemeLoadEnd=!0,this.createScene()},t.prototype.onResourceLoadComplete=function(e){var t=this;"loading"==e.groupName&&(window.document.getElementById("load").style.display="none",this.loadingView=new LoadingUI,this.stage.addChild(this.loadingView),RES.loadGroup("preload")),"preload"==e.groupName&&(egret.Tween.get(this.loadingView).to({alpha:0},1e3,egret.Ease.quadInOut).call(function(){t.stage.removeChild(t.loadingView)},this),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),this.isResourceLoadEnd=!0,this.createScene())},t.prototype.onItemLoadError=function(e){console.warn("Url:"+e.resItem.url+" has failed to load")},t.prototype.onResourceLoadError=function(e){console.warn("Group:"+e.groupName+" has failed to load"),this.onResourceLoadComplete(e)},t.prototype.onResourceProgress=function(e){"preload"==e.groupName&&this.loadingView.setProgress(e.itemsLoaded,e.itemsTotal)},t.prototype.createScene=function(){this.isThemeLoadEnd&&this.isResourceLoadEnd&&this.createGameScene()},t.prototype.createGameScene=function(){t.Stage=egret.MainContext.instance.stage,t.Stage.maxTouches=1,t.eventManager=new EventManager,this.addChild(PageManager.getInstance()),this.addChild(PopUpManager.getInstance()),this.addChild(Bgmusic.getInstance()),Mode.apikey=sessionStorage.apikey,Mode.is_info=sessionStorage.is_info,Mode.shareid=sessionStorage.shareid,Mode.imgUrl=sessionStorage.headimgurl,0==Mode.shareid?t.eventManager.dispatchEventWith(EventManager.GOTO_INDEX):t.eventManager.dispatchEventWith(EventManager.GOTO_OJOIN)},t}(eui.UILayer);Main.eventManager=new EventManager,__reflect(Main.prototype,"Main");var zhuliRanklist=function(e){function t(t,i){var n=e.call(this)||this;return n.touxiangUrl=t,n.nicenam=i,n.skinName="zhuliRanklistSkin",n}return __extends(t,e),t.prototype.childrenCreated=function(){this.createGameScene()},t.prototype.createGameScene=function(){this.nicheng.text=this.nicenam,RES.getResByUrl(this.touxiangUrl,function(e){var t=new egret.Bitmap;t.width=98,t.height=98,t.x=23,t.y=13,t.texture=e,this.addChild(t),Tool.createCircleMask(t)},this,RES.ResourceItem.TYPE_IMAGE)},t}(eui.Component);__reflect(zhuliRanklist.prototype,"zhuliRanklist");var Mode=function(){function e(){}return e}();Mode.openid="",Mode.imgUrl="",Mode.userName="",Mode.isD=!1,Mode.score=0,Mode.nowTimer=0,Mode.allScore=0,Mode.nums=0,Mode.porp=0,Mode.cpnum=0,Mode.isindex=!1,Mode.isgame=!1,Mode.apikey="",Mode.is_info=-1,Mode.shareid=-1,Mode.isdianzan=!1,Mode.namss="",Mode.iphss="",Mode.addzhi="",Mode.diyici=0,__reflect(Mode.prototype,"Mode");var PageManager=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.createGameScene,t),t}return __extends(t,e),t.getInstance=function(){return t._instance||(t._instance=new t),t._instance},t.prototype.createGameScene=function(){Main.eventManager.addEventListener(EventManager.GOTO_INDEX,this.swichPage,this),Main.eventManager.addEventListener(EventManager.GOTO_GAME,this.swichPage,this),Main.eventManager.addEventListener(EventManager.GOTO_CHANGPIN,this.swichPage,this),Main.eventManager.addEventListener(EventManager.GOTO_RANK,this.swichPage,this),Main.eventManager.addEventListener(EventManager.GOTO_ZHULIRANK,this.swichPage,this),Main.eventManager.addEventListener(EventManager.GOTO_INFOS,this.swichPage,this),Main.eventManager.addEventListener(EventManager.GOTO_OJOIN,this.swichPage,this)},t.prototype.swichPage=function(e){switch(this.nowView&&this.removeChild(this.nowView),e.type){case EventManager.GOTO_INDEX:this.index=new Index,this.addChild(this.index),this.nowView=this.index;break;case EventManager.GOTO_GAME:this.game=new Game,this.addChild(this.game),this.nowView=this.game;break;case EventManager.GOTO_CHANGPIN:this.changpin=new changpin,this.addChild(this.changpin),this.nowView=this.changpin;break;case EventManager.GOTO_RANK:this.Rank=new Rank,this.addChild(this.Rank),this.nowView=this.Rank;break;case EventManager.GOTO_ZHULIRANK:this.zhuliRank=new zhuliRank,this.addChild(this.zhuliRank),this.nowView=this.zhuliRank;break;case EventManager.GOTO_INFOS:this.Infos=new Infos,this.addChild(this.Infos),this.nowView=this.Infos;break;case EventManager.GOTO_OJOIN:this.Ojoin=new Ojoin,this.addChild(this.Ojoin),this.nowView=this.Ojoin}},t}(SingleBaseClass);__reflect(PageManager.prototype,"PageManager");var PopUpManager=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addPopUp=function(e,i,n,o,r,a){void 0===i&&(i=!1),void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=0),void 0===a&&(a=!1),this.nowPop&&t.getInstance().removePopUp(t.getInstance().nowPop,0),i&&(this.darkSprite=new egret.Sprite,this.darkSprite.name="darkSprite",this.darkSprite.graphics.clear(),this.darkSprite.graphics.beginFill(0,.7),this.darkSprite.graphics.drawRect(0,0,egret.MainContext.instance.stage.stageWidth,egret.MainContext.instance.stage.stageHeight),this.darkSprite.graphics.endFill(),this.darkSprite.width=egret.MainContext.instance.stage.stageWidth,this.darkSprite.height=egret.MainContext.instance.stage.stageHeight,this.darkSprite.touchEnabled=!0,this.darkSprite.alpha=0,egret.Tween.get(this.darkSprite).to({alpha:1},150),this.darkSprite.visible=!0,this.addChild(this.darkSprite)),e.width=n,e.height=o,this.addChild(e),0!=n?(e.x=egret.MainContext.instance.stage.stageWidth/2-n/2,e.y=egret.MainContext.instance.stage.stageHeight/2-o/2):(n=e.width,o=e.height);var s=egret.MainContext.instance.stage.stageWidth/2-n/2,h=egret.MainContext.instance.stage.stageHeight/2-o/2;switch(r){case 0:break;case 1:e.alpha=0,e.scaleX=.5,e.scaleY=.5,e.x=e.x+n/4,e.y=e.y+o/4,egret.Tween.get(e).to({alpha:1,scaleX:1,scaleY:1,x:e.x-n/4,y:e.y-o/4},300,egret.Ease.backOut);break;case 2:e.alpha=0,e.scaleX=.5,e.scaleY=.5,e.x=e.x+n/4,e.y=e.y+o/4,egret.Tween.get(e).to({alpha:1,scaleX:1,scaleY:1,x:e.x-n/4,y:e.y-o/4},600,egret.Ease.elasticOut);break;case 3:a?(e.x=-n,egret.Tween.get(e).to({x:s},500,egret.Ease.cubicOut)):(e.x=-n,egret.Tween.get(e).to({x:0},500,egret.Ease.cubicOut));break;case 4:a?(e.x=n,egret.Tween.get(e).to({x:s},500,egret.Ease.cubicOut)):(e.x=n,egret.Tween.get(e).to({x:0},500,egret.Ease.cubicOut));break;case 5:a?(e.y=-o,egret.Tween.get(e).to({y:h},500,egret.Ease.cubicOut)):(e.y=-o,egret.Tween.get(e).to({y:0},500,egret.Ease.cubicOut));break;case 6:a?(e.y=egret.MainContext.instance.stage.stageHeight,egret.Tween.get(e).to({y:h},500,egret.Ease.cubicOut)):(e.y=o,egret.Tween.get(e).to({y:0},500,egret.Ease.cubicOut))}this.nowPop=e},t.prototype.removePopUp=function(e,t){switch(void 0===t&&(t=0),this.darkSprite&&Tool.removeFromParent(this.darkSprite),t){case 0:break;case 1:egret.Tween.get(e).to({alpha:0,scaleX:0,scaleY:0,x:e.x+e.width/2,y:e.y+e.height/2},300);break;case 2:break;case 3:egret.Tween.get(e).to({x:e.width},500,egret.Ease.cubicOut);break;case 4:egret.Tween.get(e).to({x:-e.width},500,egret.Ease.cubicOut);break;case 5:egret.Tween.get(e).to({y:e.height},500,egret.Ease.cubicOut);break;case 6:egret.Tween.get(e).to({y:-e.height},500,egret.Ease.cubicOut)}egret.setTimeout(function(){e.parent&&e&&(Tool.removeFromParent(e),this.nowPop=null)},this,500)},t}(SingleBaseClass);__reflect(PopUpManager.prototype,"PopUpManager");var Ojoin=function(e){function t(){var t=e.call(this)||this;return t.skinName="OjoinSkin",t}return __extends(t,e),t.prototype.childrenCreated=function(){this.createGameScene()
},t.prototype.createGameScene=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchtap,this)},t.prototype.touchtap=function(e){switch(e.target){case this.dianbtn:if(0==Mode.isdianzan){var t="&data="+DecodeStr.setencode("shareid="+Mode.shareid,Mode.apikey);MessageTool.GET("http://game.flyh5.cn/game/wx75967690c8ef0c50/mar_lkm/api.php?a=share",t,function(e){var t=JSON.parse(e.target.response.trim());return console.log(t),100!=t.error?void alert("拉取用户数据失败点击重新获取"):(Mode.isdianzan=!0,void PopUpManager.getInstance().addPopUp(new dianzan,!1,750,1334,1))},this,!1)}else alert("本周已为好友助力");break;case this.btn:Mode.diyici+=1,1==Mode.diyici?PopUpManager.getInstance().addPopUp(new Rule,!1,750,1334,1):Main.eventManager.dispatchEventWith(EventManager.GOTO_GAME);break;case this.rule:PopUpManager.getInstance().addPopUp(new Rule,!1,750,1334,1)}},t}(CBaseClass);__reflect(Ojoin.prototype,"Ojoin");var Rank=function(e){function t(){var t=e.call(this)||this;return t.skinName="RankSkin",t}return __extends(t,e),t.prototype.childrenCreated=function(){this.createGameScene()},t.prototype.createGameScene=function(){var e=this;egret.Tween.get(this.shouzhi,{loop:!0}).to({y:this.shouzhi.y-10},800).to({y:this.shouzhi.y},800);var t=120;this.slider.addEventListener(eui.UIEvent.CHANGE,function(i){e.group.scrollV=e.group.numChildren*t-e.scroller.height-i.target.value},this),this.scroller.addEventListener(eui.UIEvent.CHANGE,function(i){e.slider.value=e.group.numChildren*t-e.scroller.height-e.group.scrollV},this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchtap,this),Mode.isindex?this.angin.source="g6_btn4_png":this.angin.source="g6_btn1_png";var i="&data="+DecodeStr.setencode("",Mode.apikey);MessageTool.GET("http://game.flyh5.cn/game/wx75967690c8ef0c50/mar_lkm/api.php?a=top",i,function(t){var i=JSON.parse(t.target.response.trim());if(console.log(i),100!=i.error)return void alert("拉取用户数据失败点击重新获取");i.data.length>=1&&(e.yiname.text=i.data[0].nickname,e.yifen.text=i.data[0].game_nums,RES.getResByUrl(i.data[0].headimgurl,function(e){var t=new egret.Bitmap;t.width=98,t.height=98,t.x=325,t.y=265,t.texture=e,this.addChildAt(t,7),Tool.createCircleMask(t)},e,RES.ResourceItem.TYPE_IMAGE)),i.data.length>=2&&(e.ername.text=i.data[1].nickname,e.erfen.text=i.data[1].game_nums,RES.getResByUrl(i.data[1].headimgurl,function(e){var t=new egret.Bitmap;t.width=98,t.height=98,t.x=163,t.y=273,t.texture=e,this.addChildAt(t,7),Tool.createCircleMask(t)},e,RES.ResourceItem.TYPE_IMAGE)),i.data.length>=3&&(e.sanname.text=i.data[2].nickname,e.sanfen.text=i.data[2].game_nums,RES.getResByUrl(i.data[2].headimgurl,function(e){var t=new egret.Bitmap;t.width=98,t.height=98,t.x=482,t.y=272,t.texture=e,this.addChildAt(t,7),Tool.createCircleMask(t)},e,RES.ResourceItem.TYPE_IMAGE));for(var n=3;n<i.data.length;n++){var o=new Ranklist(i.data[n].headimgurl,i.data[n].nickname,i.data[n].game_nums,n+1);o.y=120*(n-3),o.height=120,e.group.addChild(o)}console.log("结束"),e.matchSlider()},this,!1)},t.prototype.change1=function(e){this.slider.value=this.group.scrollV},t.prototype.change2=function(e){switch(e.type){case eui.UIEvent.CHANGE:this.group.scrollV=this.slider.value;break;case eui.UIEvent.CHANGE_END:}},t.prototype.touchtap=function(e){switch(e.target){case this.angin:Mode.diyici+=1,1==Mode.diyici?PopUpManager.getInstance().addPopUp(new Rule,!1,750,1334,1):Main.eventManager.dispatchEventWith(EventManager.GOTO_GAME);break;case this.zhuli:Main.eventManager.dispatchEventWith(EventManager.GOTO_ZHULIRANK);break;case this.duihuan:Main.eventManager.dispatchEventWith(EventManager.GOTO_INFOS);break;case this.ewmbtn:PopUpManager.getInstance().addPopUp(new erwei,!1,750,1334,1)}},t.prototype.matchSlider=function(){this.slider.minimum=0;var e=120;console.log(this.group.numChildren),this.slider.maximum=this.group.numChildren*e-this.scroller.height,this.slider.value=this.group.numChildren*e-this.scroller.height},t}(CBaseClass);__reflect(Rank.prototype,"Rank");var Ranklist=function(e){function t(t,i,n,o){var r=e.call(this)||this;return r.touxiangUrl=t,r.nicenam=i,r.cheng=n,r.paiming=o,r.skinName="RanklistSkin",r}return __extends(t,e),t.prototype.childrenCreated=function(){this.createGameScene()},t.prototype.createGameScene=function(){this.nicheng.text=this.nicenam,this.paim.text=this.paiming+"",this.chengji.text=this.cheng,RES.getResByUrl(this.touxiangUrl,function(e){var t=new egret.Bitmap;t.width=98,t.height=98,t.x=63,t.y=11,t.texture=e,this.addChild(t),Tool.createCircleMask(t)},this,RES.ResourceItem.TYPE_IMAGE)},t}(eui.Component);__reflect(Ranklist.prototype,"Ranklist");var Rule=function(e){function t(){var t=e.call(this)||this;return t.skinName="RuleSkin",t}return __extends(t,e),t.prototype.childrenCreated=function(){this.createGameScene()},t.prototype.createGameScene=function(){this.matchSlider(),this.close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchtap,this)},t.prototype.touchtap=function(){PopUpManager.getInstance().removePopUp(this,1),1==Mode.diyici&&Main.eventManager.dispatchEventWith(EventManager.GOTO_GAME)},t.prototype.matchSlider=function(){var e=this;this.slider.minimum=0;this.slider.maximum=this.sofa.height-this.scroller.height,this.slider.value=this.sofa.height-this.scroller.height,this.slider.addEventListener(eui.UIEvent.CHANGE,function(t){e.group.scrollV=e.sofa.height-e.scroller.height-t.target.value},this),this.scroller.addEventListener(eui.UIEvent.CHANGE,function(t){e.slider.value=e.sofa.height-e.scroller.height-e.group.scrollV},this)},t}(CBaseClass);__reflect(Rule.prototype,"Rule");var share=function(e){function t(){var t=e.call(this)||this;return t.skinName="shareSkin",t}return __extends(t,e),t.prototype.childrenCreated=function(){this.createGameScene()},t.prototype.createGameScene=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchtap,this)},t.prototype.touchtap=function(){PopUpManager.getInstance().removePopUp(this,1),PopUpManager.getInstance().addPopUp(new Gameover,!0,750,1334,1)},t}(CBaseClass);__reflect(share.prototype,"share");var AlignUtil=function(){function e(){this.CLASS_NAME="AlignUtil"}return e.getOffsetPosition=function(e){var t=e.getBounds(),i=new egret.Point;return i.x=e.scaleX>0?t.x*e.scaleX*-1:t.right*e.scaleX*-1,i.y=e.scaleY>0?t.y*e.scaleY*-1:t.bottom*e.scaleY*-1,i},e.align=function(t,i,n,o,r,a){void 0===o&&(o=!0),void 0===r&&(r=!1),void 0===a&&(a=null);var s=e.getOffsetPosition(i);switch(t){case e.TOP:case e.MIDDLE:case e.BOTTOM:break;default:i.x=s.x}switch(t){case e.LEFT:case e.CENTER:case e.RIGHT:break;default:i.y=s.y}var h=e._getPosition(t,i.width,i.height,n,r),c=null==a?i.getBounds():a.getBounds();switch(t){case e.TOP:case e.MIDDLE:case e.BOTTOM:break;default:i.x+=h.x-c.x,o&&(i.x=Math.round(i.x))}switch(t){case e.LEFT:case e.CENTER:case e.RIGHT:break;default:i.y+=h.y-c.y,o&&(i.y=Math.round(i.y))}},e.alignToPixel=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},e.alignBottom=function(t,i,n,o,r){void 0===n&&(n=!0),void 0===o&&(o=!1),void 0===r&&(r=null),e.align(e.BOTTOM,t,i,n,o,r)},e.alignBottomLeft=function(t,i,n,o,r){void 0===n&&(n=!0),void 0===o&&(o=!1),void 0===r&&(r=null),e.align(e.BOTTOM_LEFT,t,i,n,o,r)},e.alignBottomCenter=function(t,i,n,o,r){void 0===n&&(n=!0),void 0===o&&(o=!1),void 0===r&&(r=null),e.align(e.BOTTOM_CENTER,t,i,n,o,r)},e.alignBottomRight=function(t,i,n,o,r){void 0===n&&(n=!0),void 0===o&&(o=!1),void 0===r&&(r=null),e.align(e.BOTTOM_RIGHT,t,i,n,o,r)},e.alignCenter=function(t,i,n,o){void 0===n&&(n=!0),void 0===o&&(o=null),e.align(e.CENTER,t,i,n,!1,o)},e.alignLeft=function(t,i,n,o,r){void 0===n&&(n=!0),void 0===o&&(o=!1),void 0===r&&(r=null),e.align(e.LEFT,t,i,n,o,r)},e.alignMiddle=function(t,i,n,o){void 0===n&&(n=!0),void 0===o&&(o=null),e.align(e.MIDDLE,t,i,n,!1,o)},e.alignMiddleLeft=function(t,i,n,o,r){void 0===n&&(n=!0),void 0===o&&(o=!1),void 0===r&&(r=null),e.align(e.MIDDLE_LEFT,t,i,n,o,r)},e.alignMiddleCenter=function(t,i,n,o){void 0===n&&(n=!0),void 0===o&&(o=null),e.align(e.MIDDLE_CENTER,t,i,n,!1,o)},e.alignMiddleRight=function(t,i,n,o,r){void 0===n&&(n=!0),void 0===o&&(o=!1),void 0===r&&(r=null),e.align(e.MIDDLE_RIGHT,t,i,n,o,r)},e.alignRight=function(t,i,n,o,r){void 0===n&&(n=!0),void 0===o&&(o=!1),void 0===r&&(r=null),e.align(e.RIGHT,t,i,n,o,r)},e.alignTop=function(t,i,n,o,r){void 0===n&&(n=!0),void 0===o&&(o=!1),void 0===r&&(r=null),e.align(e.TOP,t,i,n,o,r)},e.alignTopLeft=function(t,i,n,o,r){void 0===n&&(n=!0),void 0===o&&(o=!1),void 0===r&&(r=null),e.align(e.TOP_LEFT,t,i,n,o,r)},e.alignTopCenter=function(t,i,n,o,r){void 0===n&&(n=!0),void 0===o&&(o=!1),void 0===r&&(r=null),e.align(e.TOP_CENTER,t,i,n,o,r)},e.alignTopRight=function(t,i,n,o,r){void 0===n&&(n=!0),void 0===o&&(o=!1),void 0===r&&(r=null),e.align(e.TOP_RIGHT,t,i,n,o,r)},e._getPosition=function(t,i,n,o,r){var a=new egret.Point;switch(t){case e.BOTTOM_LEFT:case e.LEFT:case e.MIDDLE_LEFT:case e.TOP_LEFT:a.x=r?o.x-i:o.x;break;case e.BOTTOM_CENTER:case e.CENTER:case e.MIDDLE_CENTER:case e.TOP_CENTER:a.x=.5*(o.width-i)+o.x;break;case e.BOTTOM_RIGHT:case e.MIDDLE_RIGHT:case e.RIGHT:case e.TOP_RIGHT:a.x=r?o.right:o.right-i}switch(t){case e.TOP:case e.TOP_CENTER:case e.TOP_LEFT:case e.TOP_RIGHT:a.y=r?o.y-n:o.y;break;case e.MIDDLE:case e.MIDDLE_CENTER:case e.MIDDLE_LEFT:case e.MIDDLE_RIGHT:a.y=.5*(o.height-n)+o.y;break;case e.BOTTOM:case e.BOTTOM_CENTER:case e.BOTTOM_LEFT:case e.BOTTOM_RIGHT:a.y=r?o.bottom:o.bottom-n}return a},e.prototype.toString=function(){return this.CLASS_NAME},e}();AlignUtil.BOTTOM="bottom",AlignUtil.BOTTOM_CENTER="bottomCenter",AlignUtil.BOTTOM_LEFT="bottomLeft",AlignUtil.BOTTOM_RIGHT="bottomRight",AlignUtil.CENTER="center",AlignUtil.LEFT="left",AlignUtil.MIDDLE="middle",AlignUtil.MIDDLE_CENTER="middleCenter",AlignUtil.MIDDLE_LEFT="middleLeft",AlignUtil.MIDDLE_RIGHT="middleRight",AlignUtil.RIGHT="right",AlignUtil.TOP="top",AlignUtil.TOP_CENTER="topCenter",AlignUtil.TOP_LEFT="topLeft",AlignUtil.TOP_RIGHT="topRight",__reflect(AlignUtil.prototype,"AlignUtil");var AssetAdapter=function(){function e(){}return e.prototype.getAsset=function(e,t,i){function n(n){t.call(i,n,e)}if(RES.hasRes(e)){var o=RES.getRes(e);o?n(o):RES.getResAsync(e,n,this)}else RES.getResByUrl(e,n,this,RES.ResourceItem.TYPE_IMAGE)},e}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var BitmapMovie=function(e){function t(){var t=e.call(this)||this;return t.textureList=[],t.curFrame=0,t._delay=100,t.loop=0,t}return __extends(t,e),t.prototype.initByTile=function(e,t,i){this.textureList.length=0;for(var n=0;i>n;n++)this.textureList.push(RES.getRes(e+n+"_"+t));this.textureList.length>0&&(this.texture=this.textureList[0],this.curFrame=0,this.totalFrame=this.textureList.length)},t.prototype.play=function(e){void 0===e&&(e=-1),this.loop=e,this.startTimer()},t.prototype.stop=function(){this.stopTimer()},t.prototype.gotoAndPlay=function(e,t){void 0===t&&(t=0),e<=this.totalFrame?(this.loop=t,this.curFrame=e,this.texture=this.textureList[e-1],this.startTimer()):console.error("BitmapMovie >> frame超出范围")},t.prototype.gotoAndStop=function(e){e<=this.totalFrame?(this.stopTimer(),this.curFrame=e,this.texture=this.textureList[e-1]):console.error("BitmapMovie >> frame超出范围")},t.prototype.startTimer=function(){this.timer||(this.timer=new egret.Timer(this.delay)),this.timer.addEventListener(egret.TimerEvent.TIMER,this.onTimerHandler,this),this.timer.reset(),this.timer.start()},t.prototype.onTimerHandler=function(){return this.curFrame++,-1==this.loop?void(this.curFrame<=this.totalFrame?this.texture=this.textureList[this.curFrame-1]:(this.dispatchEvent(new egret.Event(egret.Event.LOOP_COMPLETE)),this.curFrame=1,this.texture=this.textureList[this.curFrame-1])):void(this.curFrame<=this.totalFrame?this.texture=this.textureList[this.curFrame-1]:(this.loop--,this.dispatchEvent(new egret.Event(egret.Event.LOOP_COMPLETE)),this.loop>0?(this.curFrame=1,this.texture=this.textureList[this.curFrame-1]):(this.stopTimer(),this.dispatchEvent(new egret.Event(egret.Event.COMPLETE)))))},t.prototype.stopTimer=function(){this.timer&&(this.timer.removeEventListener(egret.TimerEvent.TIMER,this.onTimerHandler,this),this.timer.stop())},Object.defineProperty(t.prototype,"delay",{get:function(){return this._delay},set:function(e){this._delay=e,this.timer&&(this.timer.delay=e)},enumerable:!0,configurable:!0}),t}(eui.Image);__reflect(BitmapMovie.prototype,"BitmapMovie");var Coin=function(){function e(){}return e.initPool=function(){for(var t=0;200>t;t++){var i=new eui.Image;e.arrImg.push(i),i.name="coin_png",i.source=RES.getRes("coin_png"),this.arrPoolCoin.push(i)}},e.getPoolByCoinImg=function(){var t,i=this.arrPoolCoin.length;return i?t=this.arrPoolCoin.shift():(t=new eui.Image,e.arrImg.push(t),t.name="coin_png",t.source=RES.getRes("coin_png"),t)},e.backPoolCoinImg=function(e){e.name="coin_png",this.arrPoolCoin.push(e)},e.getStageByCoinImg=function(t){for(var i,n=e.arrImg.length,o=0;n>o;o++)if(e.arrImg[o].name==t)return i=e.arrImg[o],e.arrImg.splice(o,1),i;return i=this.getPoolByCoinImg()},e.init=function(t){e.wrapWidth=Main.Stage.stageWidth,e.wrapHeight=Main.Stage.stageHeight,this.parent=t,this.arrPoolCoin.length||this.initPool(),this.dispose(),this.settings={coinWidth:154,coinHeight:155,density:30},this.density=this.settings.density,this.timeLag=1e3,this.coinWidth=.3*this.settings.coinWidth,this.coinHeight=.3*this.settings.coinHeight,this._startCacheCanvasAnim()},e._startCacheCanvasAnim=function(){function t(){var i=Date.now(),h=(i-c)/1e3;c=i;for(var l=0;l<e.density;l++){if(0==s[l].rndOrder&&0==s[l].time&&(s[l].time=h),s[l].time>0&&(s[l].time=s[l].time+h),0==s[l].rndOrder){s[l].bEnd?0==s[l].endSpeed?(s[l].reDownSpeed=1.1*s[l].reDownSpeed,s[l].top=s[l].top+s[l].reDownSpeed,s[l].left=s[l].left*s[l].rndOffsetX):(s[l].endSpeed=-Math.abs(.96*s[l].endSpeed),Math.abs(s[l].endSpeed)<1&&(s[l].endSpeed=0),s[l].top=s[l].top+s[l].endSpeed,s[l].left=s[l].left*s[l].rndOffsetX):(s[l].top=r*Math.pow(s[l].time,2)/2-e.coinHeight,s[l].left=n*s[l].rndX+o),s[l].top>e.wrapHeight-e.coinHeight&&!s[l].bEnd&&(s[l].top=e.wrapHeight-e.coinHeight),s[l].top==e.wrapHeight-e.coinHeight&&(s[l].endSpeed=r*s[l].time/s[l].reDownHDelta,s[l].reDownSpeed=s[l].endSpeed/10,s[l].bEnd=!0);var u="coin_png"+l,d=e.getStageByCoinImg(u);d.name=u,e.arrImg.push(d),d.x=s[l].left,d.y=s[l].top,d.width=e.coinWidth,d.height=e.coinHeight,e.parent.addChild(d)}s[l].rndOrder=0==s[l].rndOrder?0:s[l].rndOrder-1}var g=e._maxNum(s,"top");g>=e.wrapHeight-e.coinHeight&&!a&&(a=!0);var p=e._minNum(s,"top");p<=e.wrapHeight+e.coinHeight?egret.setTimeout(function(){t(),e.num++},e,10):e.dispose()}for(var i=this.wrapWidth-this.coinWidth,n=(this.wrapHeight-this.coinHeight,i*this.density/(this.density+15)),o=(i-n)/2,r=2744,a=!1,s=[],h=0;h<e.density;h++)s[h]={rndX:Math.random(),rndOrder:Math.round(Math.random()*e.timeLag/17),time:0,top:0,left:0,endSpeed:0,bEnd:!1,reDownSpeed:0,reDownHDelta:100*Math.random()+250,rndOffsetX:.06*Math.random()+.97};var c=Date.now();t()},e._minNum=function(e,t){for(var i=[],n=0;n<e.length;n++)i.push(e[n][t]);return i.sort(function(e,t){return e-t})[0]},e._maxNum=function(e,t){for(var i=[],n=0;n<e.length;n++)i.push(e[n][t]);return i.sort(function(e,t){return t-e})[0]},e.dispose=function(){for(;this.arrImg.length;)this.arrImg[0].parent&&this.arrImg[0].parent.removeChild(this.arrImg[0]),this.backPoolCoinImg(this.arrImg[0]),this.arrImg.splice(0,1)},e}();Coin.arrPoolCoin=[],Coin.arrImg=[],Coin.num=0,__reflect(Coin.prototype,"Coin");var CollisionUtils=function(){function e(){}return e.hitTest=function(e,t){var i=e.getBounds(),n=t.getBounds();return i.x=e.parent.localToGlobal(e.x,e.y).x,i.y=e.parent.localToGlobal(e.x,e.y).y,n.x=t.parent.localToGlobal(t.x,t.y).x,n.y=t.parent.localToGlobal(t.x,t.y).y,i.intersects(n)},e.hitTestP=function(e,t){var i,n;return i=t.x+t.width/2,n=t.y+t.height-t.width/2,e.hitTestPoint(i,n)?!0:!1},e.sreatPoints=function(e){for(var t=[],i=5,n=5,o=e.height/i,r=e.width/n,a=0;o>=a;a++)for(var s=0;r>=s;s++){var h=new egret.Point(e.x+s*n,e.y+a*i);t.push(h)}return t},e.testHit=function(e,t){if(!e.parent||!t.parent)return!1;var i=e.x,n=e.y,o=e.getBounds(),r=new egret.Point;e.parent.localToGlobal(i,n,r),o.x=r.x,o.y=r.y,i=t.x,n=t.y;var a=t.getBounds();return t.parent.localToGlobal(i,n,r),a.x=r.x,a.y=r.y,o.intersects(a)},e}();__reflect(CollisionUtils.prototype,"CollisionUtils");var CBaseClass2=function(e){function t(){var t=e.call(this)||this;return t.touchEnabled=!0,t.width=640,t.height=1036,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.childrenCreated,t),t}return __extends(t,e),t.prototype.childrenCreated=function(){this.createGameScene()},t.prototype.createGameScene=function(){},t}(egret.DisplayObjectContainer);__reflect(CBaseClass2.prototype,"CBaseClass2");var CoolingQueueMcForCircle=function(){function e(e,t){this._w=0,this._target=e,this._mask=new egret.Shape,this._mask.x=e.x+e.width/2,this._mask.y=e.y+e.height/2,e.parent.addChildAt(this._mask,e.parent.getChildIndex(this._target)+1),this._target.mask=this._mask,this._w=t}return e.prototype.setProgress=function(e,t){if(this._mask){if(this._mask.graphics.clear(),e>=t)return this._mask.graphics.beginFill(0),this._mask.graphics.drawRect(-this._w,-this._w,2*this._w,2*this._w),void this._mask.graphics.endFill();this._mask.graphics.beginFill(0,1),this._mask.graphics.lineStyle(1),this._mask.graphics.moveTo(0,0);var i,n,o=360*e/t,r=Math.PI/180*o,a=0;45>=o?(i=this._w*Math.tan(r),n=-this._w,a=1):90>=o?(i=this._w,n=-this._w*Math.tan(Math.PI/180*90-r),a=2):135>=o?(i=this._w,n=this._w*Math.tan(r-Math.PI/180*90),a=3):180>=o?(n=this._w,i=this._w*Math.tan(Math.PI-r),a=4):225>=o?(n=this._w,i=-this._w*Math.tan(r-Math.PI),a=5):270>=o?(i=-this._w,n=this._w*Math.tan(Math.PI/180*270-r),a=6):315>=o?(i=-this._w,n=-this._w*Math.tan(r-Math.PI/180*270),a=7):(n=-this._w,i=-this._w*Math.tan(2*Math.PI-r),a=8),this._mask.graphics.lineTo(i,n),this.drawRect(a)}},e.prototype.drawRect=function(t){for(t;t>=0;t--){var i=e._drawRectPoints[t];this._mask.graphics.lineTo(i[0]*this._w,i[1]*this._w)}this._mask.graphics.endFill()},e}();CoolingQueueMcForCircle._drawRectPoints=[[0,0],[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1],[0,-1]],__reflect(CoolingQueueMcForCircle.prototype,"CoolingQueueMcForCircle");var CountUtils=function(){function e(e,t,i,n,o,r){this._time=t,this._allTime=e,this._countTf=i,this._per=n,this._end=o,this._self=r}return e.prototype.start=function(){this.tx||(this.tx=egret.setInterval(function(){this._allTime-=this._time,this.per(),this._allTime<=0&&(egret.clearInterval(this.tx),this.end())},this,1e3*this._time))},e.prototype.stop=function(){egret.clearInterval(this.tx),this.tx=null},e.prototype.per=function(){this._countTf.text=String(this._allTime),this._per.call(this._self)},e.prototype.end=function(){this._countTf.text="0",this._end.call(this._self)},e}();__reflect(CountUtils.prototype,"CountUtils");var DateUtils=function(){function e(){}return e.prototype.getFormatBySecond=function(e,t){void 0===t&&(t=1);var i="";switch(t){case 1:i=this.getFormatBySecond1(e);break;case 2:i=this.getFormatBySecond2(e);break;case 3:i=this.getFormatBySecond3(e);break;case 4:i=this.getFormatBySecond4(e);break;case 5:i=this.getFormatBySecond5(e)}return i},e.prototype.getFormatBySecond1=function(e){void 0===e&&(e=0);var t,i=Math.floor(e/3600);t=0==i?"00":10>i?"0"+i:""+i;var n,o,r=Math.floor((e-3600*i)/60),a=Math.floor((e-3600*i)%60);return n=0==r?"00":10>r?"0"+r:""+r,o=0==a?"00":10>a?"0"+a:""+a,t+":"+n+":"+o},e.prototype.getFormatBySecond3=function(e){void 0===e&&(e=0);var t,i,n=Math.floor(e/3600),o=Math.floor((e-3600*n)/60),r=Math.floor((e-3600*n)%60);return t=0==o?"00":10>o?"0"+o:""+o,i=0==r?"00":10>r?"0"+r:""+r,t+":"+i},e.prototype.getFormatBySecond2=function(e){var t=new Date(e),i=t.getFullYear(),n=t.getMonth()+1,o=t.getDate(),r=t.getHours(),a=t.getMinutes(),s=t.getSeconds();return i+"-"+n+"-"+o+" "+r+":"+a+":"+s},e.prototype.getFormatBySecond4=function(e){var t=Math.floor(e/3600);return t>0?t>24?Math.floor(t/24)+"天前":t+"小时前":Math.floor(e/60)+"分钟前"},e.prototype.getFormatBySecond5=function(e){var t=86400,i=3600,n=60,o=Math.floor(e/t),r=Math.floor(e%t/i),a=Math.floor((e-r*i)/n),s=Math.floor((e-r*i)%n),h="",c="",l="",u="";return e>0?0==o?(h="",0==r?(c="",0==a?(l="",u=0==s?"":10>s?"0"+s+"秒":""+s+"秒"):(l=""+a+"分",u=0==s?"":10>s?"0"+s+"秒":""+s+"秒",l+u)):(c=r+"小时",0==a?(l="",u=0==s?"":10>s?"0"+s+"秒":""+s+"秒"):(l=10>a?"0"+a+"分":""+a+"分",c+l))):(h=o+"天",c=0==r?"":10>r?"0"+r+"小时":""+r+"小时",h+c):""},e}();__reflect(DateUtils.prototype,"DateUtils");var DeviceUtils=function(){function e(){}return e.IsHtml5=function(){return egret.Capabilities.runtimeType==egret.RuntimeType.WEB},e.IsNative=function(){return egret.Capabilities.runtimeType==egret.RuntimeType.NATIVE},e.IsMobile=function(){return egret.Capabilities.isMobile},e.IsPC=function(){return!egret.Capabilities.isMobile},e.IsQQBrowser=function(){return e.IsHtml5&&-1!=navigator.userAgent.indexOf("MQQBrowser")},e.IsIEBrowser=function(){return e.IsHtml5&&-1!=navigator.userAgent.indexOf("MSIE")},e.IsFirefoxBrowser=function(){return e.IsHtml5&&-1!=navigator.userAgent.indexOf("Firefox")},e.IsChromeBrowser=function(){return e.IsHtml5&&-1!=navigator.userAgent.indexOf("Chrome")},e.IsSafariBrowser=function(){return e.IsHtml5&&-1!=navigator.userAgent.indexOf("Safari")},e.IsOperaBrowser=function(){return e.IsHtml5&&-1!=navigator.userAgent.indexOf("Opera")},e.IsWeiXin=function(){var e=window.navigator.userAgent.toLowerCase();return"micromessenger"==String(e.match(/MicroMessenger/i))?!0:!1},e.IsAndroid=function(){return navigator.userAgent.indexOf("Android")>-1||navigator.userAgent.indexOf("Adr")>-1},e.Isios=function(){return!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)},e}();__reflect(DeviceUtils.prototype,"DeviceUtils");var Drag=function(e){function t(){var t=e.call(this)||this;return t.offsetX=0,t.offsetY=0,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t}return __extends(t,e),t.prototype.onAddToStage=function(e){},t.prototype.start=function(e){this.dragObject=e,this.dragObject.touchEnabled=!0,this.dragObject.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this),this.dragObject.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEend,this)},t.prototype.onTouchEend=function(e){this.dragObject.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this)},t.prototype.onTouchBegin=function(e){this.offsetX=e.localX,this.offsetY=e.localY,this.dragObject.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this)},t.prototype.onTouchMove=function(e){this.dragObject?(this.dragObject.x=e.stageX-this.offsetX,this.dragObject.y=e.stageY-this.offsetY):this.stop()},t.prototype.stop=function(){this.dragObject.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),this.dragObject.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEend,this),this.dragObject.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this)},t}(egret.Sprite);__reflect(Drag.prototype,"Drag");var Effects=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.CenterSize=function(e){var t=this,i=e;Tool.center(i),i.alpha=0,egret.Tween.get(i).to({scaleX:.95,scaleY:.95,alpha:.5},200).call(function(){egret.Tween.get(i).to({scaleX:1,scaleY:1,alpha:1},200).call(function(){},t)},this)},t.Left=function(e){var t=e;t.x=-t.width,egret.Tween.get(t).to({x:0},400,egret.Ease.quadInOut)},t.Right=function(e){var t=e;t.x=t.width,egret.Tween.get(t).to({x:0},400,egret.Ease.quadInOut)},t.Bottom=function(e){var t=e;t.y=t.height,egret.Tween.get(t).to({y:0},400,egret.Ease.quadInOut)},t.Top=function(e){var t=e;t.y=-t.height,egret.Tween.get(t).to({y:0},400,egret.Ease.quadInOut)},t.macIconShake=function(e,t){for(var i=[[20,300],[15,300],[10,300],[5,300]],n="egret.Tween.get("+e+")",o=0,r=i.length;r>o;o++)n+=".to({'y':"+t+"-"+i[o][0]+"}, "+i[o][1]+")",n+=".to({'y':"+t+"}, "+i[o][1]+")";return n+=";"},t.startFlicker=function(e,t){e.alpha=1,egret.Tween.get(e,{loop:!0}).to({alpha:0},t).to({alpha:1},t)},t.stopFlicker=function(e){e.alpha=1,egret.Tween.removeTweens(e)},t.shock=function(e){var t=e.x,i=e.y,n=egret.Tween.get(e);Mode.isD||(Mode.isD=!0,n.to({x:e.x+20,y:e.y+20},100,egret.Ease.bounceOut).to({x:e.x-20,y:e.y-20},100,egret.Ease.bounceIn).to({x:e.x+20,y:e.y+20},100,egret.Ease.bounceOut).to({x:e.x-20,y:e.y-20},100,egret.Ease.bounceIn).to({x:e.x+20,y:e.y+20},100,egret.Ease.bounceOut).to({x:e.x-20,y:e.y-20},100,egret.Ease.bounceIn).call(function(){e.x=t,e.y=i,Mode.isD=!1}))},t.shock2=function(e){var t=80,i=e.x;egret.Tween.get(e).to({x:e.x-10},t),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x+20},t)},this,2*t),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x-20},t)},this,3*t),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x+20},t)},this,4*t),egret.setTimeout(function(){egret.Tween.get(e).to({x:i},t)},this,5*t)},t.poompop=function(e){Tool.center(e),e.scaleX=e.scaleY=.5;var t=egret.Tween.get(e);t.to({scaleX:1,scaleY:1},500,egret.Ease.bounceIn).call(function(){egret.Tween.removeTweens(e)})},t.narrowpop=function(e){Tool.center(e),e.scaleX=e.scaleY=2;var t=egret.Tween.get(e);t.to({scaleX:1,scaleY:1},500,egret.Ease.bounceIn).call(function(){egret.Tween.removeTweens(e)})},t}(egret.DisplayObjectContainer);__reflect(Effects.prototype,"Effects");var Ewm=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.init=function(e,i,n,o){if(void 0===e&&(e=""),void 0===i&&(i="100"),void 0===n&&(n="50"),void 0===o&&(o="50"),document.getElementById("ewm"))return console.warn("二维码类不能初始化两次!自动跳转到show方法"),void t.getInstance().show();var r=document.createElement("style");r.innerHTML="@-webkit-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes fadeOut{0%{opacity:1}100%{opacity:0}}.Inewm{-webkit-animation-name:fadeIn;-webkit-animation-duration:2s;-webkit-animation-iteration-count:1;-webkit-animation-delay:0s}.Outewm{-webkit-animation-name:fadeOut;-webkit-animation-duration:1s;-webkit-animation-iteration-count:1;-webkit-animation-delay:0s}",document.getElementsByTagName("head")[0].appendChild(r);var a=document.createElement("img");a.id="ewm",a.className="Inewm",a.src=e,a.style.position="absolute",DeviceUtils.IsWeiXin()&&(i=String(Number(i)-2)),a.style.width=i+"%",a.style.top=n+"%",a.style.left=o+"%",a.style.marginLeft=-(Number(i)/2)+"%",window.document.getElementsByTagName("body")[0].appendChild(a)},t.prototype.show=function(){var e=window.document.getElementById("ewm");e.className="Inewm",e.style.display="block",e.addEventListener("webkitAnimationEnd",function(){e.style.display="block"})},t.prototype.hide=function(){var e=window.document.getElementById("ewm");e.className="Outewm",e.addEventListener("webkitAnimationEnd",function(){e.style.display="none"})},t}(SingleBaseClass);__reflect(Ewm.prototype,"Ewm");var loadUtil=function(e){function t(t,i,n,o,r){void 0===r&&(r=!1);var a=e.call(this)||this;return a._content=t,a._isDisplay=r,a._callback=n,a._self=o,a._group=i,a.width=150,a.height=150,Tool.center(a),a.x=egret.MainContext.instance.stage.stageWidth/2,a.y=egret.MainContext.instance.stage.stageHeight/2,a.CreateView(),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,a.complete,a),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,function(e){a.setProgress(e.itemsLoaded,e.itemsTotal)},a),RES.loadGroup(a._group),a}return __extends(t,e),t.prototype.complete=function(){RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.complete,this),Tool.removeFromParent(this),this._callback.call(this._self)},t.prototype.setProgress=function(e,t){this.progressTf&&(this.progressTf.text=Math.floor(e/t*100)+"%")},t.prototype.CreateView=function(){var e=new egret.Sprite;e.graphics.beginFill(0),e.graphics.drawRoundRect(0,0,150,150,50,50),e.graphics.endFill(),e.alpha=.7,this.addChild(e),this.mc=Tool.createMovieClip("quan"),Tool.center(this.mc),this.mc.x=75,this.mc.y=50,this.mc.play(-1),this.addChild(this.mc),this.tf=Tool.createTextFiled(0,90,150,25,this._content,20,16777215),this.tf.textAlign="center",this.addChild(this.tf),this._isDisplay&&(this.progressTf=Tool.createTextFiled(0,120,150,25,"0%",20,16777215),this.progressTf.textAlign="center",this.addChild(this.progressTf))},t}(egret.DisplayObjectContainer);__reflect(loadUtil.prototype,"loadUtil");var LocationProperty=function(){function e(){}return e.getPara=function(e,t){if(egret.Capabilities.runtimeType==egret.MainContext.RUNTIME_NATIVE)return null;var i=t||location.href;if(-1!=i.indexOf("?")){var n="&"+i.split("?")[1],o=new RegExp("&"+e+"=.*?(?:&|$)"),r=o.exec(n);if(r){var a=r[0];return a.split("&")[1].split("=")[1]}}return null},e.setProperty=function(e,t,i){var n=i||location.href,o="&"+n.split("?")[1];if(-1==n.indexOf("?"))return n+="?"+e+"="+t;var o=n.split("?")[1];if(""==o)return n+=e+"="+t;var r=new RegExp("(?:^|&)"+e+"=.*?(?:&|$)"),a=r.exec(o);if(a&&""!=a[0]){var s=a[0],h=new RegExp("=.*$"),c=s.replace(h,"="+t);return n.replace(s,c)}return n+="&"+e+"="+t},e.hasProperty=function(e,t){var i=t||location.href,n="&"+i.split("?")[1];return-1!=n.indexOf("&"+e+"=")},e}();__reflect(LocationProperty.prototype,"LocationProperty");var MathUtils=function(){function e(){}return e.prototype.getAngle=function(e){var t=180*e/Math.PI;return t},e.prototype.getRadian=function(e){var t=e/180*Math.PI;return t},e.prototype.getRadian2=function(e,t,i,n){var o=i-e,r=n-t;return Math.atan2(r,o)},e.prototype.getDistance=function(e,t,i,n){var o=i-e,r=n-t,a=o*o+r*r;return Math.sqrt(a)},e.getCrossPoint=function(e,t,i,n){var o=0,r=0,a=0,s=0,h=t%180==0?1:t%90==0?-1:0,c=n%180==0?1:n%90==0?-1:0;0==h&&(o=Math.tan(t*Math.PI/180)),0==c&&(r=Math.tan(n*Math.PI/180));var l=Math.abs(t)+Math.abs(n);if(180==l&&0>t*n||Math.floor(t)==Math.floor(n))return null;if(0==h&&0==c)a=(o*e.x-e.y-(r*i.x-i.y))/(o-r),s=(o*i.y-i.x*o*r-(r*e.y-e.x*o*r))/(o-r);else if(0==h&&1==c)s=i.y,a=(s-e.y)/o+e.x;else if(0==h&&-1==c)a=i.x,s=(a-e.x)*o+e.y;else if(1==h&&0==c)s=e.y,a=(s-i.y)/r+i.x;else if(1==h&&-1==c)s=e.y,a=i.x;else if(-1==h&&0==c)a=e.x,s=(a-i.x)*r+i.y;else{if(-1!=h||1!=c)return null;a=e.x,s=i.y}return new egret.Point(100*a/1e3,1e3*s/1e3)},e.getLineAngle=function(e,t){var i=t.x-e.x,n=t.y-e.y,o=180*Math.atan2(n,i)/Math.PI;return o},e.getLinePos=function(e,t){var i=e.x-t.x,n=e.y-t.y,o=Math.sqrt(i*i+n*n);return o},e.lineFunc=function(e,t){if(e.x!=t.x){var i=(e.y-t.y)/(e.x-t.x),n=e.y-(e.y-t.y)/(e.x-t.x)*e.x;return new egret.Point(i,n)}return null},e.random=function(e,t,i){return void 0===i&&(i=!0),i?Math.floor(e+(t-e)*Math.random()):e+(t-e)*Math.random()},e}();__reflect(MathUtils.prototype,"MathUtils");var MessageTool=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.POST=function(e,i,n,o,r){if(void 0===r&&(r=!0),r){var a=Tool.createSprite(Main.Stage.stageWidth,Main.Stage.stageHeight,16777215);a.alpha=0,a.name="Tipsbg",a.touchEnabled=!0,o.addChild(a);var s=new requestTips;s.name="requesttips",s.x=Main.Stage.stageWidth/2-s.width/2,s.y=Main.Stage.stageHeight/2-s.height/2,o.addChild(s)}var h=i,c=new egret.HttpRequest;c.responseType=egret.HttpResponseType.TEXT,c.open(e,egret.HttpMethod.POST),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.send(h),c.addEventListener(egret.Event.COMPLETE,function(e){r&&(Tool.removeFromParent(o.getChildByName("Tipsbg")),Tool.removeFromParent(o.getChildByName("requesttips"))),n.call(o,e)},o),c.addEventListener(egret.IOErrorEvent.IO_ERROR,t.onGetIOError,o)},t.GET=function(e,i,n,o,r){if(void 0===r&&(r=!0),r){var a=Tool.createSprite(Main.Stage.stageWidth,Main.Stage.stageHeight,16777215);a.alpha=0,a.name="Tipsbg",a.touchEnabled=!0,o.addChild(a);var s=new requestTips;s.name="requesttips",s.x=Main.Stage.stageWidth/2-s.width/2,s.y=Main.Stage.stageHeight/2-s.height/2,o.addChild(s)}var h=i,c=new egret.HttpRequest;c.responseType=egret.HttpResponseType.TEXT,c.open(e+h,egret.HttpMethod.GET),c.send(),c.addEventListener(egret.Event.COMPLETE,function(e){r&&(Tool.removeFromParent(o.getChildByName("Tipsbg")),Tool.removeFromParent(o.getChildByName("requesttips"))),n.call(o,e)},o),c.addEventListener(egret.IOErrorEvent.IO_ERROR,t.onGetIOError,o)
},t.onGetIOError=function(e){console.log("get error : "+e)},t}(egret.DisplayObjectContainer);__reflect(MessageTool.prototype,"MessageTool");var ModalPop=function(e){function t(t,i,n,o,r,a,s,h){void 0===n&&(n=null),void 0===o&&(o=!1),void 0===r&&(r="取消"),void 0===a&&(a=0),void 0===s&&(s="确定"),void 0===h&&(h=16777215);var c=e.call(this)||this;return c.skinName="ModalSkin",c.title=t,c.content=i,c.success=n,c.showCancel=o,c.cancelText=r,c.cancelColor=a,c.confirmText=s,c.confirmColor=h,c}return __extends(t,e),t.prototype.childrenCreated=function(){this.createGameScene()},t.prototype.createGameScene=function(){var e=this;if(this.no.name="cancel",this.yes.name="confirm",this.bigyes.name="confirm",null==this.success){this.no.visible=!1,this.yes.visible=!1,this.bigyes.visible=!1,this.bg.visible=!1,this.bg2.visible=!0;var t=setTimeout(function(){egret.Tween.get(e).to({alpha:0},100).call(function(){Tool.removeFromParent(e),egret.Tween.removeTweens(e),clearTimeout(t)},e)},2e3,this)}this.showCancel&&(this.bigyes.visible=!1),this.tipsText.text=this.title,this.contentText.text=this.content,this.no.labelDisplay.text=this.cancelText,this.no.labelDisplay.textColor=this.cancelColor,this.yes.labelDisplay.text=this.confirmText,this.yes.labelDisplay.textColor=this.confirmColor,this.bigyes.labelDisplay.text=this.confirmText,this.bigyes.labelDisplay.textColor=this.confirmColor,this.addEventListener(egret.TouchEvent.TOUCH_TAP,function(t){("cancel"==t.target.name||"confirm"==t.target.name)&&(e.success.call(e.parent,t.target.name),egret.Tween.get(e).to({alpha:0},100).call(function(){Tool.removeFromParent(e),egret.Tween.removeTweens(e)},e))},this)},t}(CBaseClass);__reflect(ModalPop.prototype,"ModalPop");var NetConfig=function(){function e(){}return e}();NetConfig.Url=window.Url+"/api.php",NetConfig.token="游戏开始",__reflect(NetConfig.prototype,"NetConfig");var ObjectUtil=function(){function e(){}return e.copyDataHandler=function(e){var t;if(e instanceof Array)t=[];else{if(!(e instanceof Object))return e;t={}}for(var i=Object.keys(e),n=0,o=i.length;o>n;n++){var r=i[n];t[r]=this.copyDataHandler(e[r])}return t},e}();__reflect(ObjectUtil.prototype,"ObjectUtil");var ParabolaUtil=function(){function e(){this.startPt=null,this.endPt=null,this.vertexPt=null,this.a=0,this.b=0,this.c=0}return e.getInstance=function(){return null==e._instance&&(e._instance=new e),e._instance},e.prototype.init=function(e,t,i){void 0===i&&(i=240),this.startPt=e,this.endPt=t,this.vertexPt=new egret.Point(this.startPt.x+(this.endPt.x-this.startPt.x)/2,this.endPt.y-i);var n=this.startPt.x,o=this.endPt.x,r=this.vertexPt.x,a=this.startPt.y,s=this.endPt.y,h=this.vertexPt.y;this.b=((a-h)*(n*n-o*o)-(a-s)*(n*n-r*r))/((n-r)*(n*n-o*o)-(n-o)*(n*n-r*r)),this.a=(a-s-this.b*(n-o))/(n*n-o*o),this.c=a-this.a*n*n-this.b*n},e.prototype.getY=function(e){return this.a*e*e+this.b*e+this.c},e}();ParabolaUtil._instance=null,__reflect(ParabolaUtil.prototype,"ParabolaUtil");var RandomUtils=function(){function e(){}return e.limit=function(e,t){e=Math.min(e,t),t=Math.max(e,t);var i=t-e;return e+Math.random()*i},e.limitInteger=function(e,t){return Math.round(this.limit(e,t))},e.randomArray=function(e){var t=Math.floor(Math.random()*e.length);return e[t]},e.getRandomArray=function(t,i){t.length<i&&console.warn("不能大于数组长度");for(var n=[],o=t,r=0;i>r;r++){var a=e.limitInteger(0,o.length-1);n.push(o[a]),o.splice(a,1)}return n},e}();__reflect(RandomUtils.prototype,"RandomUtils");var RegUtils;!function(e){function t(e){var t=/\w[-\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\.)+[A-Za-z]{2,14}/;return t.test(e)?!0:(alert("您输入的Email地址格式不正确！"),!1)}function i(e){if(r(e))return!1;var t=/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/g;return t.test(e)&&Number(RegExp.$1)<256&&Number(RegExp.$2)<256&&Number(RegExp.$3)<256&&Number(RegExp.$4)<256?!0:!1}function n(e){return/^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])(\d{8}$)/.test(e)}function o(e){if(11!=e.length)return!1;var t=/^1[3|4|5|7|8][0-9]\d{4,8}$/;return t.test(e)?!0:!1}function r(e){if(""==e)return!0;var t="^[ ]+$",i=new RegExp(t);return i.test(e)}function a(e){var t=/^[-]{0,1}[0-9]{1,}$/;return t.test(e)}function s(e){var t="^[0-9]+$",i=new RegExp(t);return-1!=e.search(i)?!0:!1}function h(e){var t="^[0-9]+[.][0-9]{0,3}$",i=new RegExp(t);return i.test(e)?!0:!1}function c(e,t){var i=" ",n=-1;if(0==t||1==t){for(;" "==i;)++n,i=e.substr(n,1);e=e.substring(n)}if(0==t||2==t){for(i=" ",n=e.length;" "==i;)--n,i=e.substr(n,1);e=e.substring(0,n+1)}return e}e.checkEmail=t,e.isIP=i,e.testCellPhone=n,e.checkMobile=o,e.isNull=r,e.isInteger=a,e.isNumber=s,e.isMoney=h,e.cTrim=c}(RegUtils||(RegUtils={}));var requestTips=function(e){function t(){var t=e.call(this)||this;return t.create(),t}return __extends(t,e),t.prototype.create=function(){var e=new egret.Sprite;e.graphics.beginFill(0),e.graphics.drawRoundRect(0,0,150,150,50,50),e.graphics.endFill(),e.alpha=.7,this.addChild(e),this.mc=Tool.createMovieClip("quan"),Tool.center(this.mc),this.mc.x=75,this.mc.y=50,this.mc.play(-1),this.addChild(this.mc),this.tf=Tool.createTextFiled(0,90,150,25,"通信中...",20,16777215),this.tf.textAlign="center",this.addChild(this.tf)},t}(egret.DisplayObjectContainer);__reflect(requestTips.prototype,"requestTips");var TextParticle=function(e){function t(t,i,n,o,r){void 0===i&&(i=3),void 0===n&&(n=2),void 0===o&&(o=0),void 0===r&&(r=16777215);var a=e.call(this)||this;return a.dots=[],a.delay=o,a.fontColor=r,a.scan=i,a.crude=n,"eui.Image"==egret.getQualifiedClassName(t)?(a.x=t.x,a.y=t.y,a.textBit=Tool.createBitmapByName(t.source),t.alpha=0):a.textBit=t,a.width=a.textBit.width,a.height=a.textBit.height,a.create(),a}return __extends(t,e),t.prototype.create=function(){var e=this;this.getImgDate(),this.dots.forEach(function(t){t.x=Math.random()*e.textBit.width,t.y=Math.random()*e.textBit.height,t.scaleX=t.scaleY=3*Math.random(),e.addChild(t)},this),this.animate()},t.prototype.animate=function(){var e=this,t=!0;this.dots.forEach(function(i){egret.Tween.get(i).wait(e.delay).to({x:i.tempx,y:i.tempy,scaleX:1,scaleY:1},1e3,egret.Ease.quartInOut).call(function(i){egret.Tween.get(i).to({alpha:0},300).call(function(){Tool.removeFromParent(i),egret.Tween.removeTweens(i)}),1==t&&(t=!1,e.textBit.alpha=0,e.addChild(e.textBit),egret.Tween.get(e.textBit).to({alpha:1},300).call(function(){egret.Tween.removeTweens(e.textBit)},e))},e,[i])},this)},t.prototype.getImgDate=function(){for(var e=this.textBit.texture.getPixels(0,0,this.textBit.width,this.textBit.height),t=0;t<this.textBit.width;t+=this.scan)for(var i=0;i<this.textBit.height;i+=this.scan){var n=4*(i*this.textBit.width+t);if(e[n+3]>=128){var o=new Dot(t-3,i-3,0,3,this.textBit.width,this.textBit.height,this.fontColor,this.crude);this.dots.push(o)}}return this.dots},t}(egret.DisplayObjectContainer);__reflect(TextParticle.prototype,"TextParticle");var Dot=function(e){function t(t,i,n,o,r,a,s,h){var c=e.call(this)||this;return c.tempx=t+3,c.tempy=i+3,c.tempwidth=r,c.tempheight=a,c.fontcolor=s,c.crude=h,c.create(),c}return __extends(t,e),t.prototype.create=function(){this.graphics.beginFill(this.fontcolor,1),this.graphics.drawCircle(0,0,this.crude),this.graphics.endFill()},t}(egret.Shape);__reflect(Dot.prototype,"Dot");var ThemeAdapter=function(){function e(){}return e.prototype.getTheme=function(e,t,i,n){function o(e){t.call(n,e)}function r(t){t.resItem.url==e&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),i.call(n))}RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),RES.getResByUrl(e,o,this,RES.ResourceItem.TYPE_TEXT)},e}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var TickUtils=function(){function e(e,t,i,n,o,r){this.tempTime=0,this._time=t,this._allTime=e,this._countTf=i,this._per=n,this._end=o,this._self=r}return e.prototype.start=function(){egret.startTick(this.count,this)},e.prototype.count=function(e){this.tempCount=this._allTime.toFixed(0);var t=e,i=this.tempTime,n=t-i;if(1e3>n){var o=this._allTime-n/1e3;if(this._countTf.text=o.toFixed(0),this._allTime=o,Number(this._countTf.text)<=0)return egret.stopTick(this.count,this),this.end(),!1;this._countTf.text!=this.tempCount&&this.per(),this.tempCount=this._countTf.text}return this.tempTime=t,!1},e.prototype.stop=function(){egret.stopTick(this.count,this),this.end()},e.prototype.per=function(){this._per.call(this._self)},e.prototype.end=function(){this._countTf.text="0",this._end.call(this._self)},e}();__reflect(TickUtils.prototype,"TickUtils");var Tool=function(){function e(){}return e.createBitmapByName=function(e){var t=new egret.Bitmap,i=RES.getRes(e);return t.texture=i,t},e.createBitmapBySheet=function(e,t){var i=new egret.Bitmap,n=e.getTexture(t);return i.texture=n,i},e.createButton=function(t,i,n,o,r,a,s,h,c){void 0===h&&(h=0),void 0===c&&(c=0);var l=new egret.Sprite,u=function(){l.removeEventListener(egret.TouchEvent.TOUCH_TAP,u,t),egret.Tween.get(l).to({scaleX:1.1,scaleY:1.1},400,egret.Ease.backOut).to({scaleX:1,scaleY:1},400,egret.Ease.backOut).call(function(){l.addEventListener(egret.TouchEvent.TOUCH_TAP,u,t)},t),s(t)};return l.addChild(e.createBitmapByName(i)),l.x=n,l.y=o,l.width=r,l.height=a,l.touchEnabled=!0,l.anchorOffsetX=h,l.anchorOffsetY=c,l.addEventListener(egret.TouchEvent.TOUCH_TAP,u,t),l},e.displayLikeObject=function(e,t,i){if(0==t.width||0==t.height)return void console.warn("The width or height of the cloneWho:("+t.hashCode+") can not be 0");i&&(e.src=i);var n=document.body,o=egret.MainContext.instance.stage,r=n.clientWidth/o.stageWidth,a=n.clientHeight/o.stageHeight,s=t.x,h=t.y,c=t.width,l=t.height,u=e.style;n.clientWidth<n.clientHeight?(u.width=c*r+"px",u.height=l*a+"px",u.left=s*r+"px",u.top=h*a+"px"):(u.width=l*a+"px",u.height=c*r+"px",u.left=h*a+"px",u.top=(o.stageWidth-s-c)*r+"px")},e.createSprite=function(e,t,i){void 0===i&&(i=null);var n=new egret.Sprite;return null==i?n.graphics.beginFill(0,0):n.graphics.beginFill(i,1),n.graphics.drawRect(0,0,e,t),n.graphics.endFill(),n},e.createTextFiled=function(e,t,i,n,o,r,a,s){void 0===o&&(o=""),void 0===r&&(r=35),void 0===a&&(a=0),void 0===s&&(s=!1);var h=new egret.TextField;return h.fontFamily="Microsoft YaHei, Helvetica, sans-serif",h.x=e,h.y=t,h.width=i,h.height=n,h.text=o,h.size=r,h.textColor=a,h.bold=s,h},e.setInputTextFiled=function(e,t){e.type="input",e.addEventListener(egret.FocusEvent.FOCUS_IN,function(){e.text="",e.textColor=0},this),e.addEventListener(egret.FocusEvent.FOCUS_OUT,function(){""==e.text&&(e.text=t,e.textColor=11184810)},this)},e.removeALL=function(e){for(;e.numChildren>0;)e.removeChildAt(0)},e.center=function(e,t){if(void 0===t&&(t=!1),e.anchorOffsetX!=e.width>>1){if(e.anchorOffsetX=e.width>>1,e.anchorOffsetY=e.height>>1,t)return;e.x+=e.anchorOffsetX,e.y+=e.anchorOffsetY}},e.setPointDown=function(e,t,i,n,o,r){void 0===r&&(r=null),e.alpha=0;var a=e.y;e.y=e.y-t,egret.Tween.get(e).wait(i).to({y:a,alpha:1},n,egret.Ease.quadInOut).call(function(){null!=r&&r.call(o)},this)},e.setPointLeft=function(e,t,i,n,o,r){void 0===r&&(r=null),e.alpha=0;var a=e.x;e.x=e.x-t,egret.Tween.get(e).wait(i).to({x:a,alpha:1},n,egret.Ease.quadInOut).call(function(){null!=r&&r.call(o)},this)},e.setScale=function(e,t,i,n,o,r){void 0===r&&(r=null),e.alpha=0,e.scaleX=e.scaleY=2,e.rotation=t,egret.Tween.get(e).wait(i).to({scaleX:1,scaleY:1,rotation:0,alpha:1},500,egret.Ease.circOut).call(function(){null!=r&&r.call(o)},this)},e.removeObj=function(e){e&&(e.alpha=0,e.scaleX=e.scaleY=1,egret.Tween.removeTweens(e))},e.getBitmapText=function(e){var t=RES.getRes(e),i=new egret.BitmapText;return i.font=t,i},e.createMovieClip=function(e,t){void 0===t&&(t="");var i=RES.getRes(e+"_json"),n=RES.getRes(e+"_png"),o=new egret.MovieClipDataFactory(i,n);if(t)var r=o.generateMovieClipData(t);else var r=o.generateMovieClipData(e);var a=new egret.MovieClip(r);return a},e.addLableStrokeColor=function(e,t,i){e.strokeColor=t,e.stroke=i},e.removeFromParent=function(e){null!=e.parent&&e.parent.removeChild(e)},e.lock=function(){egret.MainContext.instance.stage.touchEnabled=egret.MainContext.instance.stage.touchChildren=!1},e.unlock=function(){egret.MainContext.instance.stage.touchEnabled=egret.MainContext.instance.stage.touchChildren=!0},e.typerEffect=function(e,t,i){void 0===t&&(t=""),void 0===i&&(i=200);for(var n=t.split(""),o=n.length,r=0;o>r;r++)egret.setTimeout(function(){e.appendText(n[Number(this)])},r,i*r)},e.share=function(e,t,i,n){var o={title:e,desc:t,link:i,imgUrl:n,success:function(e){var t=egret.MainContext.instance;t.stage.dispatchEventWith("yifenxiang",!1)}},r={title:t,desc:t,link:i,imgUrl:n,success:function(e){var t=egret.MainContext.instance;t.stage.dispatchEventWith("yifenxiang",!1)}};window.wx.onMenuShareAppMessage(o),window.wx.onMenuShareTimeline(r)},e.setTitle=function(e){document.title=e;var t=document.createElement("iframe");t.src="//m.baidu.com/favicon.ico",t.style.display="none",t.onload=function(){setTimeout(function(){t.remove()},9)},document.body.appendChild(t)},e.checkImage=function(e){e.x<egret.MainContext.instance.stage.stageWidth-e.width?e.x=egret.MainContext.instance.stage.stageWidth-e.width:e.x>0&&(e.x=0),e.y<egret.MainContext.instance.stage.stageHeight-e.height?e.y=egret.MainContext.instance.stage.stageHeight-e.height:e.y>0&&(e.y=0)},e.ButtonBound=function(t,i,n){t.touchEnabled=!1,e.center(t),egret.Tween.get(t).to({scaleX:1.1,scaleY:1.1},100).to({scaleX:1,scaleY:1},200,egret.Ease.bounceOut).call(function(){t.touchEnabled=!0,i.call(n,[t])},n)},e.scale=function(t,i){var n=i.texture.textureWidth/i.texture.textureHeight;i.texture.textureWidth>i.texture.textureHeight?(i.texture.textureWidth>t.width?(i.width=t.width,i.height=t.width/n):(i.width=i.texture.textureWidth,i.height=i.texture.textureHeight),i.height>t.height&&(i.height=t.height,i.width=n*i.height)):(i.texture.textureHeight>t.height?(i.height=t.height,i.width=n*i.height):(i.width=i.texture.textureWidth,i.height=i.texture.textureHeight),i.width>t.width&&(i.width=t.width,i.height=i.width/n)),e.center(i),i.x=t.width/2,i.y=t.height/2},e.scale2=function(t,i){var n=i.texture.textureWidth/i.texture.textureHeight;i.texture.textureWidth>i.texture.textureHeight?(i.height=t.height,i.width=n*i.height):(i.width=t.width,i.height=i.width/n),e.center(i),i.x=t.width/2,i.y=t.height/2},e.getTexture=function(e,t,i){var n=document.createElement("img"),o=new egret.Texture;n.src=e,n.onload=function(){var e=new egret.BitmapData(n);o.bitmapData=e,t.call(i,o)}},e.frameRate=function(e){return e/egret.MainContext.instance.stage.frameRate},e.easeTextField=function(e,t,i,n){var o={value:t};egret.Tween.get(o,{loop:!1,onChange:function(){e.text=String(Math.floor(o.value))},onChangeObj:this}).to({value:i},n,egret.Ease.quadInOut).call(function(){egret.Tween.removeTweens(e)},this)},e.setFilter=function(e){var t=[1,0,0,0,100,0,1,0,0,100,0,0,1,0,100,0,0,0,1,0],i=new egret.ColorMatrixFilter(t);e.filters=[i]},e.playAnimation=function(e,t){if(t)for(var i in e.items)e.items[i].props={loop:!0};e.play()},e.getPropertyCount=function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i},e.createCircleMask=function(e){var t=new egret.Sprite,i=e.width>>1;t.graphics.beginFill(0,1),t.graphics.drawCircle(i,i,i),t.graphics.endFill(),e.parent.addChild(t),t.x=e.x,t.y=e.y,e.mask=t},e.pickPhoto=function(e,t,i){var n=document.createElement("input");n.type="file",n.accept="image/*",n.style.display="none",document.body.insertBefore(n,document.body.firstChild),n.addEventListener("change",function(n){var o=n.target.files[0];window.lrz(o,{width:e}).then(function(e){var n=document.createElement("img");n.src=e.base64,n.onload=function(){t.call(i,n)}})},!1),n.click()},e.copy=function(e){var t=document.createElement("input");t.value=e,document.body.appendChild(t),t.select(),t.setSelectionRange(0,t.value.length),document.execCommand("Copy"),document.body.removeChild(t),egret.log("复制成功")},e}();__reflect(Tool.prototype,"Tool");var TouchStyleEffects=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.touchStyleEffects=function(e,i){void 0===i&&(i=15658734),this._starColor=i;for(var n=0;n<this._num;n++){var o=2*Math.PI*Math.random(),r=Math.sin(o)*this._starDis,a=Math.cos(o)*this._starDis,s=e.stageX+r,h=e.stageY+a,c=e.stageX+4*r,l=e.stageY+4*a,u=(this._size+this._size*Math.random(),new egret.Shape),d=5,i=16777215;u.graphics.lineStyle(2,Number(t.getRandomColor())),u.graphics.moveTo(d,0),u.graphics.beginFill(i),u.x=s,u.y=h;for(var g=1;11>g;g++){var p=d;g%2>0&&(p=d/2);var o=2*Math.PI/10*g;u.graphics.lineTo(Math.cos(o)*p,Math.sin(o)*p)}egret.MainContext.instance.stage.addChild(u),egret.Tween.get(u).to({alpha:0,x:c,y:l,scaleX:.1,scaleY:.1},500).call(this.removeStar,this,[u])}},t.removeStar=function(e){egret.MainContext.instance.stage.removeChild(e)},t.getRandomColor=function(){return"0x"+Math.floor(16777215*Math.random()).toString(16)},t}(egret.Sprite);TouchStyleEffects._size=2,TouchStyleEffects._num=10,TouchStyleEffects._starDis=10,__reflect(TouchStyleEffects.prototype,"TouchStyleEffects");var VirtualJoystickView=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(egret.DisplayObjectContainer);__reflect(VirtualJoystickView.prototype,"VirtualJoystickView");var WebSocketTool=function(){function e(){}return e.init=function(){},e.onSocketOpen=function(t){e.e=t,e.onsocketoptenfuc.call(e.targetsp)},e.onSocketClose=function(t){e.e=t,e.onsocketClosefuc.call(e.targetsp)},e.onReceiveMessage=function(t){e.e=t,e.onmsgfuc.call(e.targetsp)},e}();__reflect(WebSocketTool.prototype,"WebSocketTool");var zhiyin=function(e){function t(){var t=e.call(this)||this;return t.skinName="zhiyinSkin",t}return __extends(t,e),t.prototype.childrenCreated=function(){this.createGameScene()},t.prototype.createGameScene=function(){this.dao()},t.prototype.dao=function(){var e=this;egret.Tween.get(this.sz).wait(500).to({x:43,y:128},800).call(function(){egret.Tween.get(e.group).wait(300).to({x:60},1e3).to({x:506},1e3).to({x:300},500).call(function(){PopUpManager.getInstance().removePopUp(e,0),PopUpManager.getInstance().addPopUp(new djs,!1,750,1334,0)})})},t}(CBaseClass);__reflect(zhiyin.prototype,"zhiyin");var zhuliRank=function(e){function t(){var t=e.call(this)||this;return t.skinName="zhuliRankSkin",t}return __extends(t,e),t.prototype.childrenCreated=function(){this.createGameScene()},t.prototype.createGameScene=function(){var e=this,t=120;this.slider.addEventListener(eui.UIEvent.CHANGE,function(i){e.group.scrollV=e.group.numChildren*t-e.scroller.height-i.target.value},this),this.scroller.addEventListener(eui.UIEvent.CHANGE,function(i){e.slider.value=e.group.numChildren*t-e.scroller.height-e.group.scrollV},this);var i="&data="+DecodeStr.setencode("",Mode.apikey);MessageTool.GET("http://game.flyh5.cn/game/wx75967690c8ef0c50/mar_lkm/api.php?a=help_top",i,function(t){var i=JSON.parse(t.target.response.trim());if(console.log(i),100!=i.error)return void alert("拉取用户数据失败点击重新获取");for(var n=0;n<i.data.length;n++){var o=new zhuliRanklist(i.data[n].headimgurl,i.data[n].nickname);o.y=120*n,o.height=120,e.group.addChild(o)}e.matchSlider()},this,!1),this.close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchtap,this)},t.prototype.touchtap=function(){PopUpManager.getInstance().removePopUp(this,1),Main.eventManager.dispatchEventWith(EventManager.GOTO_RANK)},t.prototype.matchSlider=function(){this.slider.minimum=0;var e=120;this.slider.maximum=this.group.numChildren*e-this.scroller.height,this.slider.value=this.group.numChildren*e-this.scroller.height},t}(CBaseClass);__reflect(zhuliRank.prototype,"zhuliRank");var CookieUtils=function(){function e(e){}return Object.defineProperty(e,"instance",{get:function(){return this._instance||(this._instance=new e(new CookieSimpleSingleFlag)),this._instance},enumerable:!0,configurable:!0}),e.prototype.writeCookie=function(e,t,i){void 0===i&&(i=30),setCookie(e,t,i)},e.prototype.readCookie=function(e){return getCookie(e)},e.prototype.delCookie=function(e){delCookie(e)},e}();__reflect(CookieUtils.prototype,"CookieUtils");var CookieSimpleSingleFlag=function(){function e(){}return e}();__reflect(CookieSimpleSingleFlag.prototype,"CookieSimpleSingleFlag");